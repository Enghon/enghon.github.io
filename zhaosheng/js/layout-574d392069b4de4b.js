try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="99cbba93-c0bb-4ce2-8853-076032d62cd1",e._sentryDebugIdIdentifier="sentry-dbid-99cbba93-c0bb-4ce2-8853-076032d62cd1")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{92420:function(e,t,n){Promise.resolve().then(n.bind(n,9591)),Promise.resolve().then(n.bind(n,55983)),Promise.resolve().then(n.bind(n,98582)),Promise.resolve().then(n.t.bind(n,62356,23)),Promise.resolve().then(n.t.bind(n,99724,23)),Promise.resolve().then(n.t.bind(n,91293,23)),Promise.resolve().then(n.bind(n,30327)),Promise.resolve().then(n.bind(n,39177)),Promise.resolve().then(n.bind(n,28493)),Promise.resolve().then(n.bind(n,26230)),Promise.resolve().then(n.bind(n,60767)),Promise.resolve().then(n.bind(n,99306)),Promise.resolve().then(n.bind(n,66221)),Promise.resolve().then(n.t.bind(n,24244,23)),Promise.resolve().then(n.t.bind(n,1792,23)),Promise.resolve().then(n.bind(n,50781))},9591:function(e,t,n){"use strict";n.r(t),n.d(t,{ConverProvider:function(){return i},useConver:function(){return a}});var r=n(57437),s=n(2265);let o=(0,s.createContext)(null);function i(e){let{children:t}=e,[n,i]=(0,s.useState)(!1),[a,u]=(0,s.useState)([]),[c,l]=(0,s.useState)("dev");return(0,r.jsx)(o.Provider,{value:{showDetil:n,setShowDetail:i,detailList:a,setDetailList:u,apiEnv:c,setApiEnv:l},"data-sentry-element":"DContext.Provider","data-sentry-component":"ConverProvider","data-sentry-source-file":"context.tsx",children:t})}function a(){return(0,s.useContext)(o)}},55983:function(e,t,n){"use strict";n.r(t),n.d(t,{MonitoringContext:function(){return p},MonitoringProvider:function(){return y},useMonitoring:function(){return b}});var r,s,o=n(57437),i=n(40600),a=n(88808),u=n(91905),c=n(30327);(r=s||(s={})).FATAL="fatal",r.ERROR="error",r.WARNING="warning",r.INFO="info",r.DEBUG="debug";class l extends Error{constructor(e,t,n,r="error"){super(e),this.name=this.constructor.name,this.source=t,this.context=n,this.severity=r}}class d extends l{constructor(e,t,n,r){super(e,"api",r),this.status=n,this.endpoint=t}}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error",s="string"==typeof e?new l(e,t,n,r):e;try{var o,f;let e=(null===(o=s.message)||void 0===o?void 0:o.includes("React"))||(null===(f=s.stack)||void 0===f?void 0:f.includes("react"));e?c.default.recordMeasurement(c.MetricType.ERROR_REACT,1,{message:s.message,source:t||"unknown"}):s instanceof d?c.default.recordMeasurement(c.MetricType.ERROR_API,1,{endpoint:s.endpoint,status:s.status.toString(),message:s.message}):c.default.recordMeasurement(c.MetricType.ERROR_JS,1,{message:s.message,source:t||"unknown"})}catch(e){}return i.$e(e=>{(t||s instanceof l&&s.source)&&e.setTag("error.source",t||s.source||"unknown");let o=s instanceof l&&s.severity?s.severity:r;if(e.setLevel(o),null==n?void 0:n.user){var i;e.setUser({id:null===(i=n.user.id)||void 0===i?void 0:i.toString(),isTourist:n.user.isTourist})}return(null==n?void 0:n.tags)&&Object.entries(n.tags).forEach(t=>{let[n,r]=t;e.setTag(n,r)}),(null==n?void 0:n.extra)&&Object.entries(n.extra).forEach(t=>{let[n,r]=t;e.setExtra(n,r)}),s instanceof d&&(e.setTag("api.endpoint",s.endpoint),e.setTag("api.status",s.status.toString())),a.Tb(s)}),u.n({category:"error",message:s.message,data:{source:t,...(null==n?void 0:n.extra)||{}},level:r}),a.eW()}function g(e,t,n,r,s){let o=s||Error(e.message),i={url:window.location.href,timestamp:new Date().toISOString()};f(o,"unhandled-error",i),e.preventDefault()}function m(e){let t=e.reason,n=t instanceof Error?t:Error(String(t)||"Promise rejected"),r={url:window.location.href,timestamp:new Date().toISOString()};f(n,"unhandled-promise-rejection",r),e.preventDefault()}var h=n(1599),v=n(24033),w=n(2265);let p=w.createContext({initialized:!1,userId:null,recordCustomMetric:(e,t,n)=>{}});function y(e){let{children:t,userId:n,userEmail:r,debug:s=!1}=e,[i,l]=(0,w.useState)(!1),d=(0,v.usePathname)();(0,v.useSearchParams)(),(0,w.useRef)(d);let f=(0,w.useRef)(Date.now());(0,w.useRef)(!1);let y=(0,w.useRef)(null);(0,w.useEffect)(()=>{try{y.current=window.fetch,c.default.init();let e=(window.addEventListener("error",g),window.addEventListener("unhandledrejection",m),()=>{window.removeEventListener("error",g),window.removeEventListener("unhandledrejection",m)});return window.sentryTrack={trackExit:(e,t)=>{u.n({category:"navigation",message:"Page exit: ".concat(e),data:{timeSpent:t},level:"info"}),h.GK({name:"page.exit.".concat(e),op:"navigation.page_exit",attributes:{"page.path":e,"page.time_spent":t,"page.time_spent.unit":"second"}},()=>{})},sessionUpdate:(e,t)=>{e?(a.YA("user_status",t?"tourist":"registered"),a.YA("logged_in","true")):(a.YA("user_status","anonymous"),a.YA("logged_in","false")),u.n({category:"auth",message:"Login status change: ".concat(e?t?"tourist":"user":"anonymous"),level:"info"})}},c.default.setupFrameRateMonitoring(),l(!0),()=>{e(),a.yl().catch(()=>{}),y.current&&(window.fetch=y.current),delete window.sentryTrack}}catch(e){return()=>{}}},[s]);let b=(0,w.useCallback)(()=>{try{let e=n||null,t=!1,s=document.cookie.split(";"),o="";for(let e of s)if(e.trim().startsWith("login=")){o=e.trim().substring(6);break}let i=!!o;if(i)try{let s=JSON.parse(decodeURIComponent(o)),i=s.user||{};e=i.id||i.userId||n||null,t=!0===i.isTourist,a.av({id:e||"",username:i.phone||i.username||i.nickname,email:i.email||r||i.phone||"",ip_address:"{{auto}}"}),a.YA("user_status",t?"tourist":"registered"),a.YA("logged_in","true"),a.YA("user_id",e),i.nickname&&a.YA("nickname",i.nickname),a.v("user_info",{id:e,username:i.nickname||i.username,phone:i.phone,avatar:i.avatar,isTourist:t,userState:i.state}),window.sentryTrack&&window.sentryTrack.sessionUpdate(!0,t)}catch(t){a.av(null),a.YA("user_status","error_parsing"),a.YA("logged_in","unknown"),e=n||null}else e=n||null,a.av(null),a.YA("user_status","anonymous"),a.YA("logged_in","false"),window.sentryTrack&&window.sentryTrack.sessionUpdate(!1,!1);let l=s.some(e=>e.trim().startsWith("isNewLogin=true")),d=s.some(e=>e.trim().startsWith("isLogout=true"));if(l){document.cookie="isNewLogin=true; max-age=0; path=/; samesite=strict;";let n=c.LoginMethod.PHONE;s.forEach(e=>{if(e.trim().startsWith("loginMethod=")){let t=e.trim().split("=")[1];switch(t){case"wechat":n=c.LoginMethod.WECHAT;break;case"oneclick":n=c.LoginMethod.ONECLICK;break;case"apple":n=c.LoginMethod.APPLE;break;case"google":n=c.LoginMethod.GOOGLE;break;default:n=c.LoginMethod.PHONE}document.cookie="loginMethod=; max-age=0; path=/; samesite=strict;"}}),i&&e&&(c.default.trackLogin({method:n,isSuccess:!0}),u.n({category:"auth",message:"User login success: ".concat(n),data:{user_id:e,is_tourist:t},level:"info"}))}d&&(document.cookie="isLogout=true; max-age=0; path=/; samesite=strict;",u.n({category:"auth",message:"User logout",level:"info"}))}catch(e){a.av(null),a.YA("user_status","error"),a.YA("logged_in","unknown"),a.Tb(e,{tags:{component:"MonitoringProvider",function:"checkUserState"}})}},[]);return(0,w.useEffect)(()=>{if(!i)return;b();let e=setInterval(b,5e3),t=setInterval(()=>{c.default.triggerMetricsReport()},3e4),n=()=>{let e=Math.floor((Date.now()-f.current)/1e3);window.sentryTrack&&e>0&&window.sentryTrack.trackExit(d,e),a.yl(2e3).catch(()=>{})};return window.addEventListener("beforeunload",n),()=>{clearInterval(e),clearInterval(t),window.removeEventListener("beforeunload",n)}},[d,b,i]),(0,o.jsx)(p.Provider,{value:{initialized:i,userId:n||null,recordCustomMetric:(e,t,n)=>{try{c.default.recordMeasurement(e,t,n)}catch(e){}}},"data-sentry-element":"MonitoringContext.Provider","data-sentry-component":"MonitoringProvider","data-sentry-source-file":"MonitoringProvider.tsx",children:t})}function b(){return w.useContext(p)}},98582:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(57437),s=n(48475),o=n.n(s);function i(){return(0,r.jsx)(o(),{id:"sm-sdk",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n          (function(){\n            window._smReadyFuncs = [];\n            window.SMSdk = {\n              ready: function(fn) {\n                fn && _smReadyFuncs.push(fn);\n              }\n            };\n            window._smConf = {\n              organization: '84rEv9xYDVpn1T7l2v6V',\n              appId: 'wenxiaobai',\n              publicKey: 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCVGaLP3YtAzbGXelwGk8I+ACv4sTXKQ4QsaviCg4mveNc1c0heArDA5men137S0c35jSrAruDbIDIcT9S0dKG+v1idUYNrraO8oh8574FI7l7A1sgoWT0+h40fa2eXze5RP4kujSIMLH3zM1XRpbhZ8A1zJ74Vr+MsFD1fUMxQVQIDAQAB',\n              staticHost: 'static2.fengkongcloud.com' \n            };\n            \n            const url = (function(){\n              const originHost = \"static2.fengkongcloud.com\";\n              const isHttps = 'https:' === document.location.protocol;\n              const protocol = isHttps ? 'https://' : 'http://';\n              const fpJsPath = '/dist/web/v2.0.0/fp.min.js';\n              let url = protocol + window._smConf.staticHost + fpJsPath;\n              const ua = navigator.userAgent.toLowerCase();\n              const isWinXP = /windowss(?:nts5.1)|(?:xp)/.test(ua);\n              const isLowIE = /msies[678].0/.test(ua);\n              \n              if(isHttps && isWinXP && isLowIE) {\n                url = protocol + originHost + fpJsPath;\n              }\n              return url;\n            })();\n            \n            const sm = document.createElement(\"script\");\n            const s = document.getElementsByTagName(\"script\")[0];\n            sm.src = url;\n            s.parentNode.insertBefore(sm, s);\n          })();\n        "},"data-sentry-element":"Script","data-sentry-component":"SmSdkInit","data-sentry-source-file":"index.tsx"})}},39177:function(e,t,n){"use strict";n.r(t),n.d(t,{GlobalExecuteStateProvider:function(){return d},useGlobalExecuteState:function(){return f}});var r=n(57437),s=n(97179),o=n(36460),i=n(14586),a=n(2265),u=n(88915),c=n.n(u);let l=(0,a.createContext)({userLoginModalShow:!1,userLoginModalShowRef:{current:!1},setUserLoginModalShow:()=>{},activityModalShow:!1,setActivityModalShow:()=>{},phoneBindModalShow:!1,setPhoneBindModalShow:()=>{},auth:null,hasPhoneNumber:!1,needLogin:!1,needRealLogin:!1,setAuth:()=>{},checkRealLogin:()=>!1,addLoginSuccessCb:()=>{},addLoginFailCb:()=>{},clearLoginSuccessCbs:()=>{},clearLoginFailCbs:()=>{},execLoginSuccessCbs:()=>{},execLoginFailCbs:()=>{},checkLogin:()=>!1,isTourist:!1});function d(e){let{children:t}=e,[n,u]=(0,a.useState)((0,i.yP)()),d=(0,a.useMemo)(()=>n&&n.user&&n.user.phone&&""!==n.user.phone,[n]);(0,a.useEffect)(()=>{},[n,d]);let[f,g,m]=c()(!1),[h,v]=c()(!1),[w,p]=(0,a.useState)(!1),y=(0,a.useRef)([]),b=(0,a.useRef)([]),k=(0,a.useCallback)(e=>{y.current.push(e)},[]),A=(0,a.useCallback)(e=>{b.current.push(e)},[]),S=(0,a.useCallback)(()=>{y.current=[]},[]),P=(0,a.useCallback)(()=>{b.current=[]},[]),L=(0,a.useCallback)(()=>{let e=y.current;S(),e.forEach(e=>e())},[]),E=(0,a.useCallback)(()=>{let e=b.current;P(),e.forEach(e=>e())},[]),x=(0,a.useMemo)(()=>!n||!n.user||n.user.isTourist,[n]),M=(0,a.useMemo)(()=>!n||!n.user||!n.token,[n]),C=(0,a.useCallback)(()=>!x||(g(!0),!1),[x]),_=(0,a.useCallback)(()=>x||M?(g(!0),!1):!!(0,i._h)(n)||(p(!0),!1),[M,x,n,g,p]),I=(0,a.useMemo)(()=>n&&n.user&&n.user.isTourist,[n]);return(0,a.useEffect)(()=>{let e=async()=>{try{let e=(0,i.yP)();if(e&&e.token){let t=await (0,o.QB)();if(t.code===s.n8.SUCCESS&&t.data.token&&t.data.token!==e.token){let n={...e,token:t.data.token};(0,i.d8)("login",encodeURIComponent(JSON.stringify(n)),90),null==u||u(n)}}}catch(e){}},t=(()=>{try{let e=(0,i.yP)();if(e&&e.user&&e.user.isTourist&&e.user.deviceId){let t=e.user.deviceId;if((0,i.vh)(t))return(0,i.kT)("login"),u(null),localStorage.removeItem("visitorId"),(0,i.kT)("visitorId"),window.location.href="/",!0}}catch(e){}})();t||window.top!==window.self||e()},[]),(0,r.jsx)(l.Provider,{value:{userLoginModalShow:f,userLoginModalShowRef:m,setUserLoginModalShow:g,activityModalShow:h,setActivityModalShow:v,phoneBindModalShow:w,setPhoneBindModalShow:p,auth:n,hasPhoneNumber:d,needRealLogin:x,needLogin:M,setAuth:u,checkRealLogin:C,addLoginSuccessCb:k,addLoginFailCb:A,clearLoginSuccessCbs:S,clearLoginFailCbs:P,execLoginSuccessCbs:L,execLoginFailCbs:E,checkLogin:_,isTourist:I},"data-sentry-element":"GlobalExecuteState.Provider","data-sentry-component":"GlobalExecuteStateProvider","data-sentry-source-file":"globalExcute.tsx",children:t})}function f(){return(0,a.useContext)(l)}},26230:function(e,t,n){"use strict";n.r(t),n.d(t,{ViewConfigProvider:function(){return c},useViewConfigState:function(){return l}});var r=n(57437);let s="system-theme-mode";var o=n(81885),i=n(2265),a=()=>{let[e,t]=(0,i.useState)(o.F.System),[n,r]=(0,i.useState)(o.B.Light);(0,i.useEffect)(()=>{let e=localStorage.getItem(s)||o.F.System;t(e)},[]),(0,i.useEffect)(()=>{let t=window.matchMedia("(prefers-color-scheme: dark)"),n=t=>{if(e===o.F.System){let e=t.matches,n=e?o.B.Dark:o.B.Light;r(n)}};if(t.addEventListener("change",n),e===o.F.System){let e=t.matches,n=e?o.B.Dark:o.B.Light;r(n)}else e===o.F.Light?r(o.B.Light):e===o.F.Dark&&r(o.B.Dark);return()=>{t.removeEventListener("change",n)}},[e]);let a=(0,i.useMemo)(()=>"".concat("root-system-theme-mode-").concat(n),[n]),u=(0,i.useCallback)(()=>{let e=n===o.B.Light?o.B.Dark:o.B.Light;e===o.B.Dark?(t(o.F.Dark),localStorage.setItem(s,o.F.Dark)):e===o.B.Light&&(t(o.F.Light),localStorage.setItem(s,o.F.Light))},[n]),c=(0,i.useMemo)(()=>n===o.B.Light,[n]),l=(0,i.useMemo)(()=>n===o.B.Dark,[n]);return{containerId:"dark-mode-container",theme:n,themeMode:e,themeClassName:a,isLightMode:c,isDarkMode:l,changeThemeMode:e=>{t(e),localStorage.setItem(s,e)},toggleTheme:u}};let u=(0,i.createContext)({containerId:"",themeClassName:"",changeThemeMode:()=>{},toggleTheme:()=>{},theme:o.B.Light,themeMode:o.F.System,isLightMode:!0,isDarkMode:!1,sideOpen:!1,setSideOpen:()=>{},actived:"",setActived:()=>{}}),c=e=>{let[t,n]=(0,i.useState)(!1),[s,o]=(0,i.useState)(""),{containerId:c,themeClassName:l,changeThemeMode:d,toggleTheme:f,theme:g,themeMode:m,isLightMode:h,isDarkMode:v}=a();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u.Provider,{value:{containerId:c,themeClassName:l,changeThemeMode:d,toggleTheme:f,theme:g,themeMode:m,isLightMode:h,isDarkMode:v,setSideOpen:n,sideOpen:t,actived:s,setActived:o},"data-sentry-element":"ViewConfigState.Provider","data-sentry-source-file":"viewConfig.tsx",children:e.children})})};function l(){return(0,i.useContext)(u)}},99306:function(e,t,n){"use strict";n.r(t);var r=n(93322),s=n(24033),o=n(2265);t.default=e=>{let{children:t}=e,n=(0,s.usePathname)(),i=(0,s.useSearchParams)(),[a,u]=(0,o.useState)(""),[c,l]=(0,o.useState)(""),[d,f]=(0,o.useState)(()=>{try{return Date.now()}catch(e){return 0}});return(0,o.useEffect)(()=>{try{let e=Date.now();(0,r.d)(a,n,d,e),u(n),l(i),f(e)}catch(e){}},[n,i]),null}},66221:function(e,t,n){"use strict";n.r(t);var r=n(57437),s=n(2265),o=n(67559),i=n(24033);t.default=e=>{let{children:t}=e,n=s.useMemo(()=>(0,o.Df)(),[]),a=s.useRef(!1);return(0,i.useServerInsertedHTML)(()=>{if(!a.current)return a.current=!0,(0,r.jsx)("style",{id:"antd",dangerouslySetInnerHTML:{__html:(0,o.EN)(n,!0)}})}),(0,r.jsx)(o.V9,{cache:n,"data-sentry-element":"StyleProvider","data-sentry-component":"StyledComponentsRegistry","data-sentry-source-file":"AntdRegistry.tsx",children:t})}},81885:function(e,t,n){"use strict";var r,s,o,i;n.d(t,{B:function(){return r},F:function(){return s}}),(o=r||(r={})).Light="light",o.Dark="dark",(i=s||(s={})).Light="light",i.Dark="dark",i.System="system"},62356:function(){},99724:function(){},91293:function(){},50781:function(e,t,n){"use strict";n.r(t),t.default={src:"https://wy-static.wenxiaobai.com/wenxiaobai-web/production/3.7.9/_next/static/media/new_favicon.6d31cfe4.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAOVBMVEVMaXFgWP9zVf9CfP9caf9VXf9KaP9Qb/9iZP9OX/9Cgf9BgP9GeP9ZWf9Dff+DUf9NXf+HUv9xaP/JEZ9nAAAAE3RSTlMAkaKVLsGQBQ+ag7nFVaiAgLceMYC5dwAAAAlwSFlzAAAhOAAAITgBRZYxYAAAADxJREFUeJwdy0cOADEIBMEBTHLc/f9nLSP1rVUAvIL3sffoDpFoLcQwkbYSihlJi1xh+RYT/FPm/5QrfgE2EgF3i5R4JwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},1792:function(e){e.exports={style:{fontFamily:"'__Inter_1cfd31', '__Inter_Fallback_1cfd31'",fontStyle:"normal"},className:"__className_1cfd31"}},48475:function(e,t,n){e.exports=n(24244)},82554:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[4737,1677,983,7559,4660,2971,5351,1744],function(){return e(e.s=92420)}),_N_E=e.O()}]);
//# sourceMappingURL=layout-574d392069b4de4b.js.map