try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1cbd261d-fc1b-430c-a435-f10924f66024",e._sentryDebugIdIdentifier="sentry-dbid-1cbd261d-fc1b-430c-a435-f10924f66024")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2249],{48671:function(e,t,n){"use strict";n.d(t,{hS:function(){return s},X8:function(){return r.Z}});var i=n(57437),a=n(87180),l=n(2265),s=e=>{let{children:t,distance:n=100,direction:s="vertical",reverse:r=!1,config:o={tension:80,friction:25},initialOpacity:d=0,animateOpacity:c=!0,scale:_=1,threshold:u=.1,delay:m=0}=e,[p,h]=(0,l.useState)(!1),x=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=x.current;e&&h(!0)},[u,m]);let v={vertical:"Y",horizontal:"X"},g=(0,a.q_)({from:{transform:"translate".concat(v[s],"(").concat(r?"-".concat(n,"px"):"".concat(n,"px"),") scale(").concat(_,")"),opacity:c?d:1},to:p?{transform:"translate".concat(v[s],"(0px) scale(1)"),opacity:1}:void 0,config:o});return(0,i.jsx)(a.q.div,{ref:x,style:g,"data-sentry-element":"animated.div","data-sentry-component":"AnimatedContent","data-sentry-source-file":"index.tsx",children:t})},r=n(79710)},34656:function(e,t,n){"use strict";var i,a;n.d(t,{r:function(){return i}}),(a=i||(i={})).TAGS="tags",a.URL_LIST="url_list",a.Normal="normal",a.Message="message",a.Hidden="hidden"},41709:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var i=n(57437),a=n(48845),l=n(52899),s=n(14320),r=n(5665),o=n(99568),d=n(97179),c=n(28493);n(71377);var _=n(2265),u=n(25748),m=e=>{let{content:t,speed:n=160,duration:i=100,close:a=!1}=e,l=(0,_.useRef)(t),s=(0,_.useRef)(i),r=(0,_.useRef)(n),[o,d]=(0,_.useState)(""),[c,u]=(0,_.useState)(0);return(0,_.useEffect)(()=>{u(0),d(""),l.current=t},[t]),(0,_.useEffect)(()=>{if(a)return;let e=Math.floor((Math.random()+.1)%4*r.current/4);if(c<l.current.length){let t=setTimeout(()=>{d(t=>t+l.current.slice(c,c+e)),u(t=>Math.min(t+e,l.current.length-1))},s.current);return()=>clearTimeout(t)}},[c]),{displayText:o}},p=n(2686),h=n.n(p),x=e=>{let{content:t}=e,n=(0,_.useRef)(null);return(0,_.useEffect)(()=>{let e=h().highlight(t,h().languages.html,"xml"),i=()=>{var t;(null===(t=n.current)||void 0===t?void 0:t.contentWindow)&&n.current.contentWindow.postMessage({type:"updateContent",content:e},"*")};return i(),n.current&&n.current.addEventListener("load",i),()=>{n.current&&n.current.removeEventListener("load",i)}},[t,n]),(0,i.jsx)("iframe",{ref:n,srcDoc:'\n          <!DOCTYPE html>\n          <html>\n            <head>\n              <!-- 可以通过 CDN 的方式导入 -->\n              <meta charset="utf-8" />\n              <meta name="viewport" content="width=device-width, initial-scale=1" />\n              <title>Prism Test</title>\n              <link href="https://www.wenxiaobai.com/prism/prism-tomorrow.min.css" rel="stylesheet" />\n            </head>\n            <body style="font-size: 12px;margin: 0;padding: 0;overflow: hidden;padding: 10px;height: 100vh;box-sizing: border-box;">\n              <pre style="border-radius: 12px; height: 100%;margin: 0;box-sizing: border-box;" class="language-html">\n                <code class="language-html">\n                </code>\n              </pre>\n              <script src="https://www.wenxiaobai.com/prism/prism-core.min.js"></script>\n              <script>\n                // 添加事件监听器接收postMessage\n                window.addEventListener(\'message\', function(event) {\n                  if (event.data && event.data.type === \'updateContent\') {\n                    const codeElement = document.querySelector(\'code.language-html\');\n                    if (codeElement && event.data.content) {\n                      codeElement.innerHTML = event.data.content;\n                    }\n                    // 滚动到底部\n                    const preElement = document.querySelector(\'pre.language-html\');\n                    if (preElement && (preElement.scrollHeight - preElement.scrollTop < preElement.clientHeight + 100)) {\n                      preElement.scrollTop = preElement.scrollHeight;\n                    }\n                  }\n                });\n              </script>\n            </body>\n        ',style:{width:"100%",height:"100%",border:"none",boxSizing:"border-box",marginTop:"10px"},"data-sentry-component":"HtmlSSERender","data-sentry-source-file":"HtmlSSERender.tsx"})},v=e=>{let{displayText:t}=m({content:e.content,speed:360});return(0,i.jsx)(x,{content:t,"data-sentry-element":"HtmlSSERender","data-sentry-component":"HtmlPrinter","data-sentry-source-file":"HtmlPrinter.tsx"})},g=n(74094),f=n.n(g),b=n(90305),w=n.n(b);let j=(0,_.forwardRef)((e,t)=>(0,i.jsx)(l.U,{className:w().custom_markdown_body,content:null==e?void 0:e.content,ignoreMdStyle:!0})),y=e=>{let{content:t=""}=e;return t},N=e=>{var t;let n=(null==e?void 0:e.content)||[],i=(null==n?void 0:null===(t=n[0])||void 0===t?void 0:t.url)||"";return i},C=e=>{var t;let n=(null==e?void 0:null===(t=e.content)||void 0===t?void 0:t.details)||[];return n},S=[o.He.ORGANIZE,o.He.WRITING,o.He.VISUALIZATION,o.He.HTML],E=e=>{let{stageItem:t,isStatic:n}=e,a=y(t),s=a.replace(/\[(\d+)†[^\]]*\]/g,"[$1](@ref)"),o=(0,_.useRef)(null);(0,_.useRef)(null);let{displayText:d}=m({content:s,speed:160,close:!n});return(0,r.Z)(o,{},[a,d]),(0,i.jsx)("div",{ref:o,className:f().inner,"data-sentry-component":"MarkdownRender","data-sentry-source-file":"index.tsx",children:n?(0,i.jsx)(j,{content:d}):(0,i.jsx)(l.U,{className:f().custom_markdown_body,content:s,ignoreMdStyle:!0})})},T=e=>{let{stageItem:t,isStatic:n}=e,a=y(t),{track:l}=(0,c.useTrack)();return(0,_.useEffect)(()=>{l("deep_research_sse_html_render_exposure",{page:d.fK.CHAT.key,area:d.fK.CHAT.area.CONVERSATION.key,element:d.fK.CHAT.area.CONVERSATION.element.ANSWER,bhv_type:"exposure",is_static:n?"static":"dynamic"})},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:f().html_inner,children:n?(0,i.jsx)(v,{content:a}):(0,i.jsx)(x,{content:a})})})},k=e=>{let{stageItem:t}=e,n=N(t)||"";return(0,i.jsxs)("div",{className:f().inner_webview,"data-sentry-component":"WebViewRender","data-sentry-source-file":"index.tsx",children:[(0,i.jsx)("div",{className:f().webview_title,children:n}),(0,i.jsx)(s.Z,{className:f().webview,url:n,mask:!0,showButton:!1,bordered:!1,"data-sentry-element":"WebView","data-sentry-source-file":"index.tsx"})]})},L=e=>{let{stageItem:t}=e,n=C(t);return(0,i.jsx)(a.Z,{details:n,"data-sentry-element":"SearchDetailCards","data-sentry-component":"SearchDetailCardsRender","data-sentry-source-file":"index.tsx"})},H=[o.He.EXPERT_PERSPECTIVE,o.He.THINK,o.He.SEARCH_WEB,o.He.ORGANIZE,o.He.WRITING],R=e=>{let{isStatic:t,stageItem:n}=e,{stage:a}=n;return(0,i.jsxs)(i.Fragment,{children:[H.includes(a)&&(0,i.jsx)(E,{stageItem:n,isStatic:t}),a===o.He.READ_WEBPAGE&&(0,i.jsx)(k,{stageItem:n}),a===o.He.READ_MORE_FROM_WEBPAGE&&(0,i.jsx)(k,{stageItem:n}),a===o.He.TOOL_WEB_SEARCH_DETAIL&&(0,i.jsx)(L,{stageItem:n}),a===o.He.HTML&&(0,i.jsx)(T,{stageItem:n,isStatic:t})]})};var I=e=>{let{data:t,showFooter:n=!1,footerClick:a,isStatic:l=!1}=e,[s,r]=(0,_.useState)(()=>{if(!Array.isArray(t)||0===t.length)return null;let e=t[t.length-1];return e&&S.includes(e.stage)?e:null});(0,_.useEffect)(()=>{let e=t[t.length-1];e&&S.includes(e.stage)&&r(e)},[t]);let d=(0,_.useMemo)(()=>s&&S.includes(s.stage)&&s.stage!==o.He.VISUALIZATION,[s]);return(0,i.jsx)(i.Fragment,{children:d&&(0,i.jsxs)("div",{className:f().deep_research_container,children:[(0,i.jsxs)("div",{className:f().title,children:[(null==s?void 0:s.title)||"",(null==s?void 0:s.title)&&(0,i.jsx)("span",{className:f().title_loading})]}),(0,i.jsx)("div",{className:f().content,children:(0,i.jsx)(R,{isStatic:l,stageItem:s})}),(0,i.jsx)("div",{className:f().footer,children:n&&(0,i.jsx)(u.Z,{desc:"问小白正在生成深度研报...",buttonText:"展示结果",onClick:()=>null==a?void 0:a()})})]})})}},50115:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i=n(57437),a=n(14320),l=n(53615),s=n(42744),r=n.n(s),o=n(2265),d=n(25748),c=n(2291),_=n.n(c),u=n(16063),m=n(71361),p=n(66395),h=n(14586),x=n(40263).Buffer,v=e=>{let{conversationId:t,sentenceIdList:n,fileName:i,canExport:a=!0,exportContentType:l}=e,[s,r]=(0,o.useState)(!1),[d,c]=(0,o.useState)(null),_="wenxiaobai_export_".concat(new Date().getTime()),{info:u,MessageContextHolder:v}=(0,m.il)(),g=(0,o.useCallback)(async e=>{if(!e){u("导出失败");return}if((!s||d!==e)&&a){r(!0),c(e);try{var o;let a=await (0,p.Zi)({conversationId:t,sentenceIdList:n}),{origin:s}=(0,h.mN)(),r="".concat(s,"/share/chat/export/").concat(e,"/").concat(a.data.shareId,"?exportContentType=").concat(l),d=await (0,p.WD)(r,i||_,e),c=x.from(null==d?void 0:null===(o=d.data)||void 0===o?void 0:o.content),u=new Blob([c]);(0,h.wI)(URL.createObjectURL(u),"".concat(i,".").concat(e))}catch(e){u("导出失败")}finally{r(!1),c(null)}}},[t,n,i,a]);return{exportFileHandler:g,loading:s,loadingType:d,MessageContextHolder:v}},g=n(99568),f=n(78127),b=n.n(f),w=e=>{let{exportFileHandler:t,loading:n,loadingType:a,MessageContextHolder:l}=v({conversationId:e.conversationId,sentenceIdList:e.sentenceIdList,fileName:e.title,canExport:e.canExport,exportContentType:g.ZI.DEEP_RESEARCH_WRITE}),s=e=>r()(b().btn,n&&a===e?b().loading:"");return(0,i.jsxs)(i.Fragment,{children:[l,(0,i.jsxs)("div",{className:b().toolBar,children:[(0,i.jsxs)("div",{className:b().left,children:[(0,i.jsx)("div",{className:b().icon,children:(0,i.jsx)(u.Z,{name:"alibabashiliangtubiao11","data-sentry-element":"IconFont","data-sentry-source-file":"index.tsx"})}),(0,i.jsxs)("div",{className:b().info,children:[(0,i.jsx)("div",{className:b().title,children:e.title||"小白研报"}),(0,i.jsx)("div",{className:b().desc,children:e.desc||"文件已经生成"})]})]}),(0,i.jsxs)("div",{className:b().right,children:[(0,i.jsxs)("div",{className:r()(s(g.tM.PDF),n&&b().disabled,b().pdf),onClick:()=>!n&&t(g.tM.PDF),children:[(0,i.jsx)("div",{className:b().icon,children:n&&a===g.tM.PDF?(0,i.jsx)("div",{className:b().loader}):(0,i.jsx)(u.Z,{name:"pdf-gkb9mkac"})}),(0,i.jsx)("span",{children:"导出PDF"})]}),(0,i.jsxs)("div",{className:r()(s(g.tM.DOCX),n&&b().disabled,b().docx),onClick:()=>!n&&t(g.tM.DOCX),children:[(0,i.jsx)("div",{className:b().icon,children:n&&a===g.tM.DOCX?(0,i.jsx)("div",{className:b().loader}):(0,i.jsx)(u.Z,{name:"docx-gkb9mkb8"})}),(0,i.jsx)("span",{children:"导出DOCX"})]})]})]})]})},j=e=>{let{url:t,showFooter:n=!1,footerClick:s,showToolBar:c=!0,toolBarProps:u}=e,[m,p]=(0,o.useState)("");(0,o.useEffect)(()=>{var e,t;p(null===(t=window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.origin)},[]);let h=(0,o.useMemo)(()=>(0,l.xq)(m,t||""),[t,m]);return(0,i.jsxs)("div",{className:r()(_().deepResearchHtml,{[_()["with-tool-bar"]]:c&&u}),"data-sentry-component":"DeepResearchHtml","data-sentry-source-file":"index.tsx",children:[c&&u&&(0,i.jsx)(w,{...u}),(0,i.jsx)(a.Z,{url:h,className:_().webview,displayUrl:t,showButton:!0,bordered:!0,mask:!1,footerSlot:n&&(0,i.jsx)(d.Z,{desc:"小白研报已经生成",buttonText:"查看回放",onClick:()=>{null==s||s()}}),"data-sentry-element":"WebView","data-sentry-source-file":"index.tsx"})]})}},25748:function(e,t,n){"use strict";var i=n(57437);n(2265);var a=n(88288),l=n.n(a);t.Z=e=>{let{desc:t,buttonText:n,onClick:a}=e;return(0,i.jsxs)("div",{className:l().footer,"data-sentry-component":"Footer","data-sentry-source-file":"index.tsx",children:[(0,i.jsx)("div",{className:null===l()||void 0===l()?void 0:l().desc,children:t}),(0,i.jsx)("div",{className:null===l()||void 0===l()?void 0:l().button,onClick:a,children:n})]})}},67530:function(e,t,n){"use strict";var i=n(57437);n(2265);var a=n(20301),l=n.n(a);t.Z=e=>{let{contents:t,turnStateICon:n}=e;return t?(0,i.jsxs)("div",{className:l().question_container,"data-sentry-component":"QuestionPure","data-sentry-source-file":"QuestionPure.tsx",children:[n,(0,i.jsx)("div",{className:l().question_content,children:(0,i.jsx)("pre",{className:l().question_content_pre,children:t})})]}):null}},79710:function(e,t,n){"use strict";var i=n(57437),a=n(97994),l=n.n(a);t.Z=e=>{let{text:t,disabled:n=!1,speed:a=2.5,className:s=""}=e;return(0,i.jsx)("div",{className:"".concat(l()["shiny-text"]," ").concat(n?l().disabled:""," ").concat(s),style:{animationDuration:"".concat(a,"s")},"data-sentry-component":"ShinyText","data-sentry-source-file":"index.tsx",children:t})}},20532:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(57437),a=n(99568),l=n(2265),s=n(40319),r=n(62745),o=n(34656);let d={[a.He.EXPERT_PERSPECTIVE]:o.r.Normal,[a.He.EXPERT_PERSPECTIVE_START]:o.r.Hidden,[a.He.EXPERT_PERSPECTIVE_END]:o.r.Hidden,[a.He.THINK]:o.r.Normal,[a.He.THINK_START]:o.r.Hidden,[a.He.THINK_END]:o.r.Hidden,[a.He.SEARCH_WEB]:o.r.TAGS,[a.He.READ_WEBPAGE]:o.r.URL_LIST,[a.He.READ_MORE_FROM_WEBPAGE]:o.r.URL_LIST,[a.He.TOOL_WEB_SEARCH_DETAIL]:o.r.Normal,[a.He.ORGANIZE]:o.r.Normal,[a.He.ORGANIZE_START]:o.r.Hidden,[a.He.ORGANIZE_END]:o.r.Hidden,[a.He.WRITE_START]:o.r.Hidden,[a.He.WRITING]:o.r.Normal,[a.He.WRITE_END]:o.r.Hidden,[a.He.VISUALIZATION]:o.r.Hidden,[a.He.HTML_START]:o.r.Hidden,[a.He.HTML]:o.r.Normal,[a.He.HTML_END]:o.r.Hidden,[a.He.END]:o.r.Normal},c=e=>(null==e?void 0:e.stage)===a.He.SEARCH_WEB?[null==e?void 0:e.content]:[a.He.READ_WEBPAGE,a.He.READ_MORE_FROM_WEBPAGE].includes(null==e?void 0:e.stage)?(null==e?void 0:e.content)||[]:(null==e?void 0:e.stage)===a.He.ORGANIZE||(null==e?void 0:e.stage)===a.He.HTML?null==e?void 0:e.content:"";var _=n(42038),u=n.n(_);let m=(0,l.forwardRef)((e,t)=>{var n;let{title:_,defaultOpen:m=!0,data:p,iconName:h,isReplay:x=!1}=e,v=(0,l.useMemo)(()=>{var e;return null===(e=p||[])||void 0===e?void 0:e.map((e,t)=>{let n=d[null==e?void 0:e.stage]||o.r.Hidden,i=c(e);return{title:null==e?void 0:e.title,componentType:n,detail:i,endDot:(null==e?void 0:e.stage)===a.He.END,loading:null==e?void 0:e.isLoading}})},[p]),{CollapseContainerContext:g,setOpen:f}=(0,s.z)({title:_,defaultOpen:m,iconName:h,titleType:"between",titleClassName:u().inner_title,closeUnderTitleSlot:(0,i.jsx)(i.Fragment,{children:null==v?void 0:null===(n=v[(null==v?void 0:v.length)-1])||void 0===n?void 0:n.title}),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:u().subtitle,children:"最多需要20分钟，进行深度研究、分析和反思，并生成完整报告和网页。"}),(0,i.jsx)("div",{className:u().step_list_wrapper,children:(0,i.jsx)(r.q,{options:v})})]})});return(0,l.useImperativeHandle)(t,()=>({setCollapseOpen:f})),(0,i.jsx)("div",{className:u().common_chat_header,children:g})});m.displayName="CommonChatHeader";var p=m},42512:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var i=n(57437),a=n(52899),l=n(2469),s=n(12023),r=n(34098),o=n.n(r),d=n(16691),c=n.n(d),_=n(2265),u=n(48671),m=n(3119),p=n.n(m),h=n(16063),x=n(12068),v=n.n(x),g=n(1746),f=n.n(g),b=e=>{let{data:t=[],tagOnClick:n}=e;return(0,i.jsx)("div",{className:f()["tags-wrapper"],"data-sentry-component":"Tags","data-sentry-source-file":"index.tsx",children:(v()(t)&&t||[]).map((e,t)=>(0,i.jsxs)("div",{className:f().tag,onClick:n,children:[(0,i.jsx)(h.Z,{name:"online-search-search",className:f()["tag-icon"]}),e]},t))})},w=n(2245),j=n.n(w);let y=e=>{let{step:t,index:n,isChild:a=!1,parentIndex:l,isLastItem:s=!1,isLastChildInParent:r=!1,isGlobalLastItem:o=!1,onExpandChange:d,parentExpanded:u=!0,isLastTopLevelStep:m=!1}=e,p=(0,_.useRef)(null),[x,v]=(0,_.useState)(0),g="secondary"!==t.level,f=t.children&&t.children.length>0||t.content&&!a,[b,w]=(0,_.useState)(!!t.defaultExpanded),y=()=>{if(a)return;let e=!b;w(e),d&&d(n,e)};(0,_.useEffect)(()=>{(null==t?void 0:t.isExpanded)!==void 0&&w(t.isExpanded)},[null==t?void 0:t.isExpanded]),(0,_.useEffect)(()=>{d&&d(n,!!t.defaultExpanded)},[t.defaultExpanded]);let N=(0,_.useMemo)(()=>(s||r)&&!b,[s,r,b]),C=(0,_.useMemo)(()=>a?u:b,[a,u,b]);return(0,_.useEffect)(()=>{if(p.current){let e=new ResizeObserver(e=>{for(let t of e){let e=t.contentRect.height,n=g?22:13;v(Math.max(e-n))}});return e.observe(p.current),()=>{e.disconnect()}}},[g]),(0,i.jsxs)("div",{className:"\n        ".concat(j()["timeline-item"]," \n        ").concat(b?"":j()["timeline-item-collapsed"],"\n        ").concat(a?j()["child-item"]:""," \n        ").concat(o?j()["global-last-item"]:"","\n        ").concat(m?j()["global-last-top-level-item"]:"","\n      "),"data-sentry-component":"TimelineItem","data-sentry-source-file":"index.tsx",children:[(0,i.jsx)("div",{className:"\n            ".concat(j()["timeline-line"]," \n            ").concat(g?j()["timeline-line-primary"]:j()["timeline-line-secondary"],"\n            ").concat(N?j()["timeline-line-hidden"]:"","\n            ").concat(o&&!b?j()["global-last-line"]:"","\n          "),style:{height:"".concat(x,"px")}}),(0,i.jsxs)("div",{className:j()["timeline-step-wrapper"],children:[g&&(0,i.jsxs)(i.Fragment,{children:[(null==t?void 0:t.iconUrl)&&(0,i.jsx)(c(),{src:t.iconUrl||"",width:12,height:12,alt:"",className:"".concat(j()["dot-primary"]," ").concat(j()["timeline-dot"]," ").concat(o?j()["global-last-dot"]:"")}),(null==t?void 0:t.iconName)&&(0,i.jsx)(h.Z,{name:t.iconName,className:"".concat(j()["dot-primary"]," ").concat(j()["timeline-dot"]," ").concat(o?j()["global-last-dot"]:"")})]}),!g&&(0,i.jsx)("div",{className:"\n                ".concat(j()["timeline-dot"]," \n                ").concat(j()["dot-secondary"],"\n                ").concat(o?j()["global-last-dot"]:"","\n              ")}),(0,i.jsxs)("div",{ref:p,className:j()["timeline-content"],children:[t.title&&(0,i.jsx)("div",{className:j()["timeline-content-title"],onClick:y,children:t.title}),(0,i.jsx)("div",{className:"".concat(j()["timeline-content-text"]," ").concat(C?"":j()["content-collapsed"]),children:t.content}),f&&(0,i.jsx)("div",{className:"".concat(j()["toggle-button"]," ").concat(b?j()["toggle-button-expanded"]:""),onClick:y,"aria-label":b?"折叠":"展开",children:(0,i.jsx)(h.Z,{name:"header-collapse"})}),(null==t?void 0:t.stepTitleRightSlot)&&(0,i.jsx)("div",{className:j()["step-title-right-slot"],children:null==t?void 0:t.stepTitleRightSlot})]})]})]})};var N=e=>{let{steps:t=[],className:n=""}=e,a=(e=>{var t,n;let i=e.length-1,a=e[i];return(null==a?void 0:a.children)&&(null==a?void 0:null===(t=a.children)||void 0===t?void 0:t.length)!==0?{parentIndex:i,childIndex:(null==a?void 0:null===(n=a.children)||void 0===n?void 0:n.length)-1}:{parentIndex:i,childIndex:-1}})(t),[l,s]=(0,_.useState)({}),r=(e,t)=>{s(n=>({...n,[e]:t}))},o=e=>e.children&&e.children.length>0,d=function(e,n){var s,c,u,m;let p=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3?arguments[3]:void 0,x=!p&&n===t.length-1,v=void 0===h||!0===l[h],g=!p&&n===a.parentIndex&&-1===a.childIndex||p&&h===a.parentIndex&&n===a.childIndex,f=!p&&n===t.length-1;return(0,i.jsxs)(_.Fragment,{children:[(0,i.jsx)(y,{step:e,index:n,isChild:p,parentIndex:h,isLastItem:x,isLastChildInParent:p&&void 0!==h&&e.children&&Array.isArray(null===(s=t[h])||void 0===s?void 0:s.children)&&n===(null===(u=t[h])||void 0===u?void 0:null===(c=u.children)||void 0===c?void 0:c.length)-1,isGlobalLastItem:g,onExpandChange:p?void 0:r,parentExpanded:v,isLastTopLevelStep:f,"data-sentry-element":"TimelineItem","data-sentry-source-file":"index.tsx"}),o(e)&&!p&&(0,i.jsx)("div",{className:"".concat(j()["child-steps"]," ").concat(!0===l[n]?j()["child-steps-expanded"]:""),children:null===(m=e.children)||void 0===m?void 0:m.map((e,t)=>d(e,t,!0,n))})]},"".concat(h||"","-").concat(n))};return(0,i.jsx)("div",{className:"".concat(j()["vertical-timeline"]," ").concat(n),"data-sentry-component":"VerticalTimeline","data-sentry-source-file":"index.tsx",children:t.map((e,t)=>d(e,t))})};let C=e=>{let{webSearchDetail:t}=e;return t.filter(e=>null==e?void 0:e.hostLogo).slice(0,5).map((e,t)=>(0,i.jsx)("div",{className:p()["web-search-detail-image"],style:{zIndex:5-t},children:(0,i.jsx)(c(),{src:e.hostLogo||"",alt:e.title,width:18,height:18})},e.title))},S=e=>{let{content:t,type:n,openWebSearchSidebar:l}=e;return t?"keyword"===n?(0,i.jsx)(b,{tagOnClick:l,data:t}):(0,i.jsx)(a.U,{content:t,className:p().custom_markdown_body,stepping:!1,ignoreMdStyle:!0}):null};var E=e=>{let{onlineSearch:t,thinkInfo:n,conversationId:a,turnId:r,sentenceId:d}=e,{changeSidebarOpen:c,changeSidebarInfo:m}=(0,l.useWebSearchSidebarState)(),h=(0,s.Z)(()=>{var e,n,i;m({conversationId:a,turnId:r,sentenceId:d,title:(null==t?void 0:null===(e=t.webSearchDetail)||void 0===e?void 0:e.source)||"联网搜索",details:(null==t?void 0:null===(n=t.webSearchDetail)||void 0===n?void 0:n.details)||[],total:(null==t?void 0:null===(i=t.webSearchDetail)||void 0===i?void 0:i.totalCount)||0,icon:""}),c(!0)}),x=(0,_.useMemo)(()=>{let e=o()(t);if(e){var n,a;return{...e,stepTitleRightSlot:(0,i.jsx)("div",{className:p()["web-search-detail-images"],onClick:h,children:(0,i.jsx)(C,{webSearchDetail:(null==e?void 0:null===(n=e.webSearchDetail)||void 0===n?void 0:n.details)||[]})}),title:(null==e?void 0:e.isLoading)?(0,i.jsx)(u.X8,{className:p()["loading-title"],text:(null==e?void 0:e.title)||"",disabled:!(null==e?void 0:e.isLoading)}):null==e?void 0:e.title,children:null==e?void 0:null===(a=e.children)||void 0===a?void 0:a.map(e=>(e.content=(0,i.jsx)(S,{content:e.content,type:e.type,openWebSearchSidebar:h}),e))}}return null},[t,h]),v=(0,_.useMemo)(()=>{let e=[];return(null==t?void 0:t.title)&&e.push({...x,iconName:"online-search-logo",defaultExpanded:(null==x?void 0:x.isLoading)||!1,isExpanded:(null==x?void 0:x.isLoading)||!1}),(null==n?void 0:n.content)&&e.push({title:(null==n?void 0:n.status)==="loading"?(0,i.jsx)(u.X8,{className:p()["loading-title"],text:(null==n?void 0:n.title)||""}):null==n?void 0:n.title,content:(0,i.jsx)(S,{content:null==n?void 0:n.content,type:null==n?void 0:n.type,openWebSearchSidebar:h}),iconName:"deep-think-logo",defaultExpanded:(null==n?void 0:n.status)!=="end",isExpanded:(null==n?void 0:n.status)!=="end"}),e},[n,t,x,h]);return(0,i.jsx)("div",{className:p().box,"data-sentry-component":"OnlineThinkChatHeader","data-sentry-source-file":"index.tsx",children:(0,i.jsx)("div",{children:(0,i.jsx)(N,{steps:v,"data-sentry-element":"VerticalTimeline","data-sentry-source-file":"index.tsx"})})})}},99105:function(e,t,n){"use strict";n.d(t,{V:function(){return v}});var i=n(57437),a=n(16063),l=n(42615),s=n(2265),r=n(96591),o=n(56239),d=n(48845),c=n(69082),_=n(34629),u=n.n(_),m=e=>{let{detail:t,children:n,...a}=e,[l,r]=(0,s.useState)(0),[o,_]=(0,s.useState)("hover");(0,s.useEffect)(()=>{let e=window.matchMedia("(max-width: 879px)").matches;e&&_&&_("focus")},[]),(0,s.useEffect)(()=>{r(window.innerWidth)},[]);let m=(0,s.useCallback)(e=>{let{url:t}=e;window.open(t,"_blank")},[]);return(0,i.jsx)(c.Z,{overlayClassName:u().link_tooltip_inner,getPopupContainer:e=>document.getElementById("dark-mode-container"),overlayStyle:{maxWidth:l<768?"100vw":"385px"},trigger:o||"hover",title:(0,i.jsx)("div",{className:u().link_tooltip,onClick:m.bind(null,t),children:(0,i.jsx)(d.D,{noHover:!0,detail:t,pdfPlacement:"middle"})}),placement:a.placement||"bottom",...a,"data-sentry-element":"Tooltip","data-sentry-component":"SearchToolTip","data-sentry-source-file":"index.tsx",children:n})},p=n(88851),h=n.n(p);let x=e=>{let{hostLogo:t,hostName:n,title:a,url:s,cTime:d}=(0,r.Bs)(e),{openExternalUrl:c}=(0,l.ky)();return(0,i.jsx)(m,{detail:e,"data-sentry-element":"SearchToolTip","data-sentry-component":"LinkCard","data-sentry-source-file":"LinkCard.tsx",children:(0,i.jsx)("div",{className:null===h()||void 0===h()?void 0:h().card,onClick:()=>{c(s)},children:(0,i.jsxs)("div",{className:h().content,children:[(0,i.jsxs)("div",{className:h().title,children:[(0,r.YY)(e)&&(0,i.jsx)("span",{className:h().tag,children:"PDF"}),(0,i.jsx)("span",{className:h().text,children:a})]}),(0,i.jsxs)("div",{className:h().source,children:[(0,i.jsxs)("div",{className:h().left,children:[(0,i.jsx)(o.Z,{hostLogo:t,hostName:n,"data-sentry-element":"HostLogo","data-sentry-source-file":"LinkCard.tsx"}),(0,i.jsx)("span",{children:n})]}),d&&(0,i.jsx)("div",{className:h().right,children:d})]})]})})})},v=e=>{let{links:t,total:n,source:l,sourceIcon:d,onShowMore:c}=e,_=t.slice(0,3),u=t.length>3,m=(0,s.useMemo)(()=>"专业搜索"===l,[l]);return(0,i.jsxs)("div",{className:h().container,"data-sentry-component":"LinkCardContainer","data-sentry-source-file":"LinkCard.tsx",children:[_.map(e=>(0,i.jsx)(x,{...e},e.id)),u&&(0,i.jsxs)("div",{className:"".concat(h().moreButton," ").concat(l?h().large:""),onClick:c,children:[(0,i.jsxs)("div",{className:h().moreCntent,children:[l?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:h().left,children:[d&&(0,i.jsx)("img",{className:h().source_icon,src:d,alt:""}),(0,i.jsx)("div",{className:"".concat(m?h().highlight_text:""," ").concat(h().bold_text),children:l}),(0,i.jsxs)("div",{className:m?h().highlight_text:"",children:["来源 +",n-3]})]})}):(0,i.jsxs)("div",{"data-sentry-component":"getMoreJsx","data-sentry-source-file":"LinkCard.tsx",children:["更多来源 +",n-3]}),(0,i.jsx)(a.Z,{name:"settingnarrow",size:10})]}),(0,i.jsx)("div",{className:h().moreLogos,children:(()=>{let e=t.slice(3),n=e.filter(e=>e.hostLogo),a=[...n,...e].slice(0,4).filter((e,t,n)=>t===n.findIndex(t=>t.id===e.id)).map(r.Bs);return a.map(e=>{let{id:t,hostLogo:n,hostName:a}=e;return(0,i.jsx)(o.Z,{hostLogo:n,hostName:a},t)})})()})]})]})}},7856:function(e,t,n){"use strict";var i=n(57437),a=n(16063),l=n(2469),s=n(12023),r=n(2265),o=n(99105),d=n(29488),c=n.n(d);t.Z=e=>{let{conversationId:t,turnId:n,sentenceId:d,sseStatus:_,data:u,isDeepSearch:m,isLast:p=!1}=e,{changeSidebarOpen:h,changeSidebarInfo:x,getAutoOpenStatus:v}=(0,l.useWebSearchSidebarState)(),{title:g,details:f=[],source:b="",sourceIcon:w=""}=u,j=m?f.length:u.totalCount||f.length,[y,N]=(0,r.useState)(!0),C=(0,r.useRef)(null),[S,E]=(0,r.useState)(null),T=(0,s.Z)(()=>{x({conversationId:t,turnId:n,sentenceId:d,title:b||"联网搜索",icon:w||"",details:f,total:j}),h(!0)});(0,r.useEffect)(()=>{let e=()=>{C.current&&E(C.current.offsetWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[y]);let k=(0,r.useMemo)(()=>!m||"close"===_||!_,[_,m]),L=(0,r.useMemo)(()=>p&&v()&&"webSearchDetail"===_,[p,v,_]),H=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{L&&(H.current=!0)},[L]),(0,r.useEffect)(()=>{k&&H.current&&T()},[k,T]),k&&(0,i.jsx)(i.Fragment,{children:k&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:c().container,children:[g&&(0,i.jsx)("div",{className:c().header,onClick:()=>{N(!y)},children:(0,i.jsxs)("div",{className:c().header_content,children:[(0,i.jsx)(a.Z,{className:c().search_icon,name:"iconsearch"}),(0,i.jsx)("span",{children:g}),(0,i.jsx)(a.Z,{className:"".concat(c().toggleButton," ").concat(y?c().expanded:""),name:"iconsetting"})]})}),(0,i.jsx)("blockquote",{ref:C,className:"".concat(c().details," ").concat(y?c().expanded:c().collapsed),children:(0,i.jsx)("div",{className:c().details_body,style:{width:S?"".concat(S,"px"):"auto"},children:(0,i.jsx)(o.V,{links:f||[],source:b,sourceIcon:w,total:j,onShowMore:()=>{T()}})})})]})})})}},40319:function(e,t,n){"use strict";n.d(t,{z:function(){return _}});var i=n(57437),a=n(42744),l=n.n(a),s=n(2265),r=n(16063),o=n(14170),d=n.n(o);let c=s.forwardRef((e,t)=>{let{title:n,titleType:a="inline",defaultOpen:o=!0,className:c,titleClassName:_,onRest:u,children:m,iconName:p,open:h,closeUnderTitleSlot:x}=e,[v,g]=(0,s.useState)(o),f=(0,s.useRef)(null),[b,w]=(0,s.useState)(null);(0,s.useImperativeHandle)(t,()=>({setOpen:e=>{g(e)}})),(0,s.useEffect)(()=>{let e=()=>{f.current&&w(f.current.offsetWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[v]);let j=()=>{g(!v)};return(0,i.jsxs)("div",{className:d()["collapse-container"],"data-sentry-component":"CollapseContainer","data-sentry-source-file":"index.tsx",children:[(0,i.jsx)("div",{className:l()(d()["collapse-title"]),onClick:j,children:(0,i.jsxs)("div",{className:l()(d()["title-container"],{[d()["title-between"]]:"between"===a,[d()["title-inline"]]:"inline"===a},_),children:[(0,i.jsxs)("div",{children:[p&&(0,i.jsx)(r.Z,{className:d().title_icon,name:p}),n]}),(0,i.jsx)("div",{className:l()(d()["title-right-icon"],{[d().open]:v}),children:(0,i.jsx)(r.Z,{name:"iconsetting","data-sentry-element":"IconFont","data-sentry-source-file":"index.tsx"})})]})}),x&&!v&&(0,i.jsx)("div",{className:d().close_under_title,onClick:j,children:x}),(0,i.jsx)("blockquote",{ref:f,className:"".concat(d()["collapse-content"]," ").concat(v?d().expanded:d().collapsed),children:(0,i.jsx)("div",{className:d().details_body,style:{width:b?"".concat(b,"px"):"auto"},children:m})})]})}),_=e=>{let t=(0,s.useRef)(null);return{setOpen:e=>{if(t.current){var n;null==t||null===(n=t.current)||void 0===n||n.setOpen(e)}},CollapseContainerContext:(0,i.jsx)(c,{ref:t,...e})}};t.Z=c},48907:function(e,t,n){"use strict";var i=n(57437),a=n(15025),l=n(77601),s=n.n(l);t.Z=e=>{let{thumb:t="",downloadUrl:n=""}=e;return(0,i.jsx)("div",{className:s().single_image_container,"data-sentry-component":"ImageFileComp","data-sentry-source-file":"ImageFileComp.tsx",children:(0,i.jsx)(a.Z,{style:{objectFit:"contain",objectPosition:"center"},src:t,width:"100%",height:"100%",preview:!!n&&{src:n,mask:(0,i.jsx)("div",{})},"data-sentry-element":"AImage","data-sentry-source-file":"ImageFileComp.tsx"})})}},52899:function(e,t,n){"use strict";n.d(t,{U:function(){return y}});var i=n(57437);n(7395);var a=n(2265),l=n(28492),s=n(77254),r=n(93776),o=n(78662),d=n(32472),c=n(85651),_=n(63061),u=n(34083),m=n(66279);let p=e=>{let{children:t}=e;return(0,i.jsx)("div",{style:{width:"100%",overflowX:"auto"},"data-sentry-component":"CustomTable","data-sentry-source-file":"index.tsx",children:(0,i.jsx)("table",{children:t})})},h=e=>{let{children:t}=e;return(0,i.jsx)("thead",{"data-sentry-component":"CustomThead","data-sentry-source-file":"index.tsx",children:t})},x=e=>{let{children:t}=e;return(0,i.jsx)("tbody",{"data-sentry-component":"CustomTbody","data-sentry-source-file":"index.tsx",children:t})},v=e=>{let{children:t}=e;return(0,i.jsx)("tr",{"data-sentry-component":"CustomTr","data-sentry-source-file":"index.tsx",children:t})},g=e=>{let{children:t}=e;return(0,i.jsx)("th",{"data-sentry-component":"CustomTh","data-sentry-source-file":"index.tsx",children:a.Children.map(t,e=>"string"==typeof e?e.split("<br>").map((e,t,n)=>(0,i.jsxs)(a.Fragment,{children:[e,t<n.length-1&&(0,i.jsx)("br",{})]},t)):e)})},f=e=>{let{children:t}=e;return(0,i.jsx)("td",{"data-sentry-component":"CustomTd","data-sentry-source-file":"index.tsx",children:a.Children.map(t,e=>"string"==typeof e?e.split("<br>").map((e,t,n)=>(0,i.jsxs)(a.Fragment,{children:[e,t<n.length-1&&(0,i.jsx)("br",{})]},t)):e)})};var b=n(28427),w=n.n(b);let j=e=>"string"!=typeof e?e:e.replace(RegExp("\\\\\\[(.*?)\\\\\\]","gs"),(e,t)=>"$$".concat(t,"$$")).replace(RegExp("\\\\\\((.*?)\\\\\\)","gs"),(e,t)=>"$$".concat(t,"$$")).replace(RegExp("(^|[^\\\\])\\$(.+?)\\$","gs"),(e,t,n)=>"".concat(t,"$").concat(n,"$"));function y(e){var t;let{className:n="",loading:b,sentenceId:y,conversationId:N,turnId:C,stepping:S,extraInfo:E,privateStopVis:T,status:k,loadingEvent:L,ignoreMdStyle:H}=e,{webSearchDetail:R}=E||{},I=(0,a.useCallback)(e=>(0,i.jsx)(u.default,{...e,webSearchDetail:R,conversationId:N,turnId:C,sentenceId:y,children:e.children}),[R,C,y,N]),A=(0,a.useCallback)(e=>{let{node:t,inline:n,className:a,children:l,...s}=e;return(0,i.jsx)(c.default,{node:t,inline:n,className:a,turnId:C,sentenceId:y,conversationId:N,privateStopVis:T,status:k,extraInfo:E,...s,children:l})},[C,y,T,k,N]),D=j(e.content),Z=t=null==(t=null==(t=D)?void 0:t.replace(/\$([^\$\n]+?)\$|\\\(([^\)]+?)\\\)/g,(e,t,n)=>e.replace(/\n/g," ")))?void 0:t.replace(/(\n?)((?:\$\$[\s\S]+?\$\$|\\\[[\s\S]+?\\\]|\\begin\{[^}]+\}[\s\S]+?\\end\{[^}]+\}))(\n?)/g,(e,t,n,i)=>{let a=/\\begin\{|\\end\{|\\\\|\\newline|\\displaystyle/.test(n);if(!a)return(t||"")+n.replace(/\n/g," ")+(i||"");{let e=n.trim();return e.startsWith("$$")&&!e.startsWith("$$\n")&&(e="$$\n"+e.slice(2)),e.endsWith("$$")&&!e.endsWith("\n$$")&&(e=e.slice(0,-2)+"\n$$"),e.startsWith("\\[")&&!e.startsWith("\\[\n")&&(e=e.replace(/^\\\[/,"\\[\n")),e.endsWith("\\]")&&!e.endsWith("\n\\]")&&(e=e.replace(/\\\]$/,"\n\\]")),"".concat(t||"\n").concat(e).concat(i||"\n")}});return Z=Z.replace(/\[(\d+)\]\((@ref)\)/g," $&"),(0,i.jsxs)("div",{className:"\n      ".concat(b?"".concat(w().markdown_body_loading," ").concat(H?"":"markdown-body"):"".concat(H?"":"markdown-body"),"\n      ").concat(n,"\n    "),style:{},"data-sentry-component":"Markdown","data-sentry-source-file":"index.tsx",children:[(0,i.jsx)(l.D,{remarkPlugins:[[d.Z,{singleDollarTextMath:!0}],o.Z,r.Z],sourcePos:!0,rawSourcePos:!0,rehypePlugins:[[s.Z,{displayMode:!0,tags:"all"}]],components:{table:p,thead:h,tbody:x,tr:v,th:g,td:f,code:A,a:I,p:S?m.default:e=>{let{children:t,...n}=e;return(0,i.jsx)("p",{...n,children:t})},li:S?_.CustomLi:e=>{let{children:t,...n}=e;return(0,i.jsx)("li",{...n,children:t})},ul:S?_.CustomUl:function(e){let{node:t,inline:n,className:a,children:l,...s}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{...s,children:l}),(0,i.jsx)("br",{style:{display:"none"}})]})},ol:S?_.CustomOl:function(e){let{node:t,inline:n,className:a,children:l,...s}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ol",{...s,children:l}),(0,i.jsx)("br",{style:{display:"none"}})]})}},linkTarget:"_blank","data-sentry-element":"ReactMarkdown","data-sentry-source-file":"index.tsx",children:Z}),(null==L?void 0:L.status)&&(0,i.jsxs)("div",{className:w().loading_event,children:[(null==L?void 0:L.content)||"正在加载中，请稍后",(0,i.jsx)("span",{className:w().dot,children:"."}),(0,i.jsx)("span",{className:w().dot,children:"."}),(0,i.jsx)("span",{className:w().dot,children:"."})]})]})}},62745:function(e,t,n){"use strict";n.d(t,{q:function(){return y}});var i=n(57437),a=n(48991),l=n(42744),s=n.n(l),r=n(2265),o=n(48671),d=n(52899),c=n(40319),_=n(73226),u=n.n(_),m=e=>{let{title:t,data:n}=e;return(0,i.jsx)(c.Z,{title:t,titleClassName:u()["common-title"],"data-sentry-element":"CollapseContainer","data-sentry-component":"Message","data-sentry-source-file":"Message.tsx",children:(0,i.jsx)(d.U,{content:n,className:u().custom_markdown_body,ignoreMdStyle:!0,loading:!1,stepping:!1,linkComp:(0,i.jsx)(i.Fragment,{}),sentenceId:"",turnId:"",privateStopVis:!1,status:"","data-sentry-element":"Markdown","data-sentry-source-file":"Message.tsx"})})},p=n(16063),h=e=>{let{title:t,data:n=[]}=e;return(0,i.jsx)("div",{className:u().tags_container,"data-sentry-component":"Tags","data-sentry-source-file":"Tags.tsx",children:(0,i.jsx)(c.Z,{title:t,titleClassName:u()["common-title"],"data-sentry-element":"CollapseContainer","data-sentry-source-file":"Tags.tsx",children:(0,i.jsx)("div",{className:u()["tags-wrapper"],children:null==n?void 0:n.map((e,t)=>(0,i.jsxs)("div",{className:u().tag,children:[(0,i.jsx)(p.Z,{name:"iconsearch",className:u()["tag-icon"]}),e]},t))})})})},x=e=>{let{title:t,isLoading:n}=e;return(0,i.jsx)(i.Fragment,{children:n?(0,i.jsx)("div",{className:u().text_container,children:(0,i.jsx)(o.X8,{text:t,disabled:!n})}):(0,i.jsx)("div",{className:u().text_container,children:t})})},v=n(56239),g=e=>{var t;let{title:n,data:a=[]}=e,l=e=>{window.open(e,"_blank")};return(0,i.jsx)("div",{className:u().url_list_container,"data-sentry-component":"UrlList","data-sentry-source-file":"UrlList.tsx",children:(0,i.jsx)(c.Z,{title:n,titleClassName:u()["common-title"],"data-sentry-element":"CollapseContainer","data-sentry-source-file":"UrlList.tsx",children:(0,i.jsx)("div",{className:u()["url-list"],children:null===(t=a||[])||void 0===t?void 0:t.map((e,t)=>(0,i.jsxs)("div",{onClick:()=>l(null==e?void 0:e.url),className:u()["url-item"],children:[(0,i.jsx)(v.Z,{className:u()["url-item-logo"],hostLogo:null==e?void 0:e.hostLogo,hostName:null==e?void 0:e.hostName,width:14,height:14}),null==e?void 0:e.title]},t))})})})},f=n(68989),b=n.n(f),w=n(34656);let j=e=>(0,i.jsx)("span",{className:s()(b().dot_loading,b().loader),style:e.style,"data-sentry-component":"LoadingDot","data-sentry-source-file":"index.tsx"}),y=e=>{let{options:t}=e,[n,l]=(0,r.useState)(!1),s=(0,r.useRef)(null),[d,c]=(0,r.useState)(0),_=(0,r.useMemo)(()=>{let e=(null==t?void 0:t.filter(e=>e.componentType!==w.r.Hidden))||[];return e.map((t,n)=>{let a;switch(null==t?void 0:t.componentType){case w.r.Normal:a=(0,i.jsx)(x,{title:(null==t?void 0:t.title)||"",isLoading:(null==t?void 0:t.loading)||!1});break;case w.r.TAGS:a=(0,i.jsx)(h,{title:(null==t?void 0:t.title)||"",data:(null==t?void 0:t.detail)||[]});break;case w.r.URL_LIST:a=(0,i.jsx)(g,{title:(null==t?void 0:t.title)||"",data:(null==t?void 0:t.detail)||[]});break;case w.r.Message:a=(0,i.jsx)(m,{title:(null==t?void 0:t.title)||"",data:(null==t?void 0:t.detail)||""});break;default:a=null}return t.endDot?l(!1):l(!0),{children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.hS,{distance:30,children:a},n)}),dot:(0,i.jsx)(i.Fragment,{children:n!==e.length-1||(null==t?void 0:t.endDot)?(0,i.jsx)("div",{className:b().dot}):null})}})},[null==t?void 0:t.length]);return(0,r.useEffect)(()=>{if(s.current){var e;let t=null===(e=s.current.querySelector(".ant-timeline-item-last"))||void 0===e?void 0:e.getBoundingClientRect().height;c(t)}},[t]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{ref:s,className:b().stepList_wrapper,children:[(0,i.jsx)(a.Z,{className:b().stepList,items:_,"data-sentry-element":"Timeline","data-sentry-source-file":"index.tsx"}),n&&(0,i.jsx)(j,{style:{bottom:d-10}})]})})}},14320:function(e,t,n){"use strict";var i=n(57437),a=n(42744),l=n.n(a);n(2265);var s=n(19858),r=n.n(s);t.Z=e=>{let{className:t="",url:n,displayUrl:a,showButton:s=!0,bordered:o=!1,mask:d=!1,footerSlot:c,viewClick:_}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:l()(r().webview,{[r().bordered]:o},t),children:[d&&(0,i.jsx)("div",{className:r().mask,onClick:()=>{}}),(0,i.jsx)("iframe",{src:a||n,style:{width:"100%",height:"100%",border:"none"},title:"WebView"}),(0,i.jsxs)("div",{className:r().footer,children:[s&&(0,i.jsx)("div",{className:r().button,onClick:()=>{_?null==_||_():window.open(n||a,"_blank")},children:"全屏预览"}),c]})]})})}},2469:function(e,t,n){"use strict";n.r(t),n.d(t,{WebSearchSidebarStateProvider:function(){return p},useWebSearchSidebarState:function(){return h}});var i=n(57437),a=n(79588),l=n(13557),s=n(10426),r=n(1181),o=n.n(r),d=n(71881),c=n.n(d),_=n(2265),u=n(1427);let m=(0,_.createContext)({sidebarOpen:!1,changeSidebarOpen:()=>{},getAutoOpenStatus:()=>!1,sidebarInfo:{conversationId:"",turnId:"",sentenceId:"",title:"",details:[],total:0},changeSidebarInfo:e=>{}});function p(e){let{children:t}=e,{curChatBotId:n=""}=(0,u.useConver)()||{},[r,d]=(0,_.useState)(!1),[p,h]=(0,l.Z)("websearch_sidebar_auto_open_map",{defaultValue:()=>({})}),x=(0,a.Z)(p),v=(0,_.useCallback)(()=>!!(n&&c()(Number(n)))&&0!==Number(n)&&(!o()(x.current,n)||!0===x.current[n]),[x,n]),[g,f]=(0,s.Z)({conversationId:"",turnId:"",sentenceId:"",title:"",icon:"",details:[],total:0}),b=(0,_.useCallback)((e,t)=>{let{autoCache:i=!0}=t||{};d(e),i&&c()(Number(n))&&0!==Number(n)&&h(t=>({...t,[n]:e}))},[n,d,h]),w=(0,_.useCallback)(e=>{f(e)},[f]);return(0,i.jsx)(m.Provider,{value:{sidebarOpen:r,changeSidebarOpen:b,getAutoOpenStatus:v,sidebarInfo:g,changeSidebarInfo:w},"data-sentry-element":"WebSearchSidebarState.Provider","data-sentry-component":"WebSearchSidebarStateProvider","data-sentry-source-file":"webSearchSidebar.tsx",children:t})}function h(){return(0,_.useContext)(m)}},88511:function(e){e.exports={answer_body_content:"Answser_answer_body_content__7JyUi",answer_bot_avatar:"Answser_answer_bot_avatar__ltZCH",avatar_hide:"Answser_avatar_hide__niAX_",answer_right_content:"Answser_answer_right_content__kAUO7",show_avatar:"Answser_show_avatar__I5t8o",last_right_answer_content:"Answser_last_right_answer_content__ZKvdj",answer_container:"Answser_answer_container__vKyC3",answer_content:"Answser_answer_content__coPAF",answer_content_last:"Answser_answer_content_last__oGb0k",stop_message:"Answser_stop_message__YOXhJ",opt_container:"Answser_opt_container__tWEnh",left:"Answser_left__TTBkZ",right:"Answser_right__0Xpxt",opt_hide:"Answser_opt_hide__NbDQ4",opt_btn:"Answser_opt_btn__2a3_v",opt_btn_disable:"Answser_opt_btn_disable__gUP7V",login_btn:"Answser_login_btn__a8wpW",login_text:"Answser_login_text__0DnzN",login_icon:"Answser_login_icon__ldVLY",ppt_icon:"Answser_ppt_icon__yVcVZ",ppt_cover_url:"Answser_ppt_cover_url___jfHa",ppt_down:"Answser_ppt_down__HT8hJ",ai_ppt_one_key:"Answser_ai_ppt_one_key__S9BYI",ppt_down_ppt:"Answser_ppt_down_ppt__1_sSU",ppt_down_pdf:"Answser_ppt_down_pdf__ZOWmJ",pdf_edit_ppt:"Answser_pdf_edit_ppt__xWaIF",no_data_container:"Answser_no_data_container__yl_py",no_data_text_link:"Answser_no_data_text_link__e7oto"}},20301:function(e){e.exports={question_container:"Question_question_container__eprjP",question_content:"Question_question_content__9BvqS",rewrite:"Question_rewrite__tTAv1",question_loading:"Question_question_loading__yeO0R",roll_loading:"Question_roll_loading__zgeIB",question_timeout:"Question_question_timeout__rKs2X",question_timeout_icon:"Question_question_timeout_icon__sdBXp",media_list:"Question_media_list__jPNBU",question_content_pre:"Question_question_content_pre__Q3Q4I",image_loading:"Question_image_loading__dwbb9",loader:"Question_loader__QVNNO",rotate:"Question_rotate__8elIl",prixClipFix:"Question_prixClipFix__PoAPz"}},90305:function(e){e.exports={custom_markdown_body:"MarkdownPrinter_custom_markdown_body__1es_O"}},74094:function(e){e.exports={deep_research_container:"DeepResearchContent_deep_research_container__Zcl4O",title:"DeepResearchContent_title__3RB7X",title_loading:"DeepResearchContent_title_loading__R746C",loadingAnimation:"DeepResearchContent_loadingAnimation__f6EeF",content:"DeepResearchContent_content__N_wWv",inner:"DeepResearchContent_inner__jsgQv",html_inner:"DeepResearchContent_html_inner__G9df7",inner_webview:"DeepResearchContent_inner_webview__q0c38",webview_title:"DeepResearchContent_webview_title__zVo9l",text:"DeepResearchContent_text__7evmO",webview:"DeepResearchContent_webview__Z_WlA",footer:"DeepResearchContent_footer__U21mH",custom_markdown_body:"DeepResearchContent_custom_markdown_body__Ke7Ae","loading-rotation":"DeepResearchContent_loading-rotation__RSh50"}},78127:function(e){e.exports={toolBar:"ToolBar_toolBar__pi3jh",left:"ToolBar_left__y16HU",info:"ToolBar_info__ui_En",title:"ToolBar_title__An6Hv",desc:"ToolBar_desc__oe8Gn",icon:"ToolBar_icon__CBm3M",right:"ToolBar_right__MlCvP",btn:"ToolBar_btn__E2H8y",pdf:"ToolBar_pdf__aAqSi",docx:"ToolBar_docx__EN18a",disabled:"ToolBar_disabled__lYXZD",loading:"ToolBar_loading__5dHyq",loader:"ToolBar_loader__lP_Tg","loading-rotation":"ToolBar_loading-rotation__7Db0P"}},2291:function(e){e.exports={deepResearchHtml:"DeepResearchHtml_deepResearchHtml__C_bxH","with-tool-bar":"DeepResearchHtml_with-tool-bar__KBrZU",webview:"DeepResearchHtml_webview__KLOGX"}},88288:function(e){e.exports={footer:"Footer_footer__vaO_N",desc:"Footer_desc__YZrMi",button:"Footer_button__Fl3Jd"}},97994:function(e){e.exports={"shiny-text":"ShinyText_shiny-text__gd9Ck",shine:"ShinyText_shine__t__p5",disabled:"ShinyText_disabled__9Sxl8"}},42038:function(e){e.exports={common_chat_header:"CommonChatHeader_common_chat_header__qJnh2",step_list_wrapper:"CommonChatHeader_step_list_wrapper__6uV3p",subtitle:"CommonChatHeader_subtitle__vHTiL"}},1746:function(e){e.exports={"tags-wrapper":"Tags_tags-wrapper__88X5e",tag:"Tags_tag___9DAl","tag-icon":"Tags_tag-icon__oj1Ar"}},2245:function(e){e.exports={"vertical-timeline":"VerticalLine_vertical-timeline__827dx","timeline-item":"VerticalLine_timeline-item__ldLWj","child-item":"VerticalLine_child-item__RDRGw","timeline-icon":"VerticalLine_timeline-icon__SSsiA","timeline-line":"VerticalLine_timeline-line___D3f7","timeline-line-hidden":"VerticalLine_timeline-line-hidden__g60Or","timeline-line-show":"VerticalLine_timeline-line-show__4CaNi","timeline-step-wrapper":"VerticalLine_timeline-step-wrapper__BLO33","timeline-dot":"VerticalLine_timeline-dot__q5MfU","icon-wrapper":"VerticalLine_icon-wrapper__lNXJF",active:"VerticalLine_active__eQAjO",inactive:"VerticalLine_inactive__S1lkT","dot-primary":"VerticalLine_dot-primary__5Mf2j","dot-secondary":"VerticalLine_dot-secondary__W8_8P","timeline-content":"VerticalLine_timeline-content__iF3D9","global-last-item":"VerticalLine_global-last-item__FOGVn","timeline-content-title":"VerticalLine_timeline-content-title__oWZtW","timeline-content-text":"VerticalLine_timeline-content-text__OtEkk","content-collapsed":"VerticalLine_content-collapsed__3olkh","toggle-button":"VerticalLine_toggle-button___Ozm9","toggle-button-expanded":"VerticalLine_toggle-button-expanded__bYTv2","child-steps":"VerticalLine_child-steps__3Oy14","child-steps-expanded":"VerticalLine_child-steps-expanded__ARVTd","step-title-right-slot":"VerticalLine_step-title-right-slot__oEpkO","timeline-item-collapsed":"VerticalLine_timeline-item-collapsed__zKUX9","global-last-top-level-item":"VerticalLine_global-last-top-level-item__s_Nq9"}},3119:function(e){e.exports={box:"OnlineThinkChatHeader_box__xvHru","web-search-detail-images":"OnlineThinkChatHeader_web-search-detail-images__bqZpf","web-search-detail-image":"OnlineThinkChatHeader_web-search-detail-image__sngJS",custom_markdown_body:"OnlineThinkChatHeader_custom_markdown_body__2qfbm","loading-title":"OnlineThinkChatHeader_loading-title__EY_LZ"}},88851:function(e){e.exports={container:"LinkCard_container__CRYVh",card:"LinkCard_card__5DMSB",content:"LinkCard_content__KJXgN",title:"LinkCard_title__FqRIc",tag:"LinkCard_tag__5tPrc",source:"LinkCard_source__VHJHG",left:"LinkCard_left__wNWwe",right:"LinkCard_right__jDE18",moreButton:"LinkCard_moreButton__Xl30q",large:"LinkCard_large__Vb3w_",moreCntent:"LinkCard_moreCntent__ApJbg",source_icon:"LinkCard_source_icon__ksPHR",bold_text:"LinkCard_bold_text__GOyzM",highlight_text:"LinkCard_highlight_text__iPzt8",moreLogos:"LinkCard_moreLogos__ptrlj"}},29488:function(e){e.exports={container:"WebSearchDetail_container__jiWZu",header:"WebSearchDetail_header__pSX44",header_content:"WebSearchDetail_header_content__Jbuie",search_icon:"WebSearchDetail_search_icon__wxF_V",toggleButton:"WebSearchDetail_toggleButton__OBVZT",expanded:"WebSearchDetail_expanded__0Qen_",details:"WebSearchDetail_details__2DCpp",collapsed:"WebSearchDetail_collapsed__8mwX_",details_body:"WebSearchDetail_details_body__4X68j",detailItem:"WebSearchDetail_detailItem__z0bJS","loading-rotation":"WebSearchDetail_loading-rotation__1w97m"}},34629:function(e){e.exports={link_tooltip:"SearchToolTip_link_tooltip__6GZhV",link_tooltip_inner:"SearchToolTip_link_tooltip_inner__Tb5JS"}},14170:function(e){e.exports={"collapse-title":"Collapse_collapse-title__GJaAi","title-container":"Collapse_title-container__MznxL","title-between":"Collapse_title-between__2SUMv","title-inline":"Collapse_title-inline__LRZ_W","collapse-content":"Collapse_collapse-content__n9ypQ",expanded:"Collapse_expanded__k53vj",collapsed:"Collapse_collapsed__twmj_",details_body:"Collapse_details_body__pxr_l","title-right-icon":"Collapse_title-right-icon__JU8Mc",open:"Collapse_open__eBxgd",title_icon:"Collapse_title_icon___TbHz",close_under_title:"Collapse_close_under_title__E0vKx","loading-rotation":"Collapse_loading-rotation__kbL6G"}},73226:function(e){e.exports={tags_container:"components_tags_container__wFH97","tags-wrapper":"components_tags-wrapper__pri__",tag:"components_tag__Il1kE","tag-icon":"components_tag-icon__TquOm","common-title":"components_common-title___vwYx",url_list_container:"components_url_list_container__ICRv_","url-list":"components_url-list__XnCnN","url-item":"components_url-item__FL74_","url-item-logo":"components_url-item-logo__oH_pN",custom_markdown_body:"components_custom_markdown_body__XaObH"}},68989:function(e){e.exports={stepList_wrapper:"StepList_stepList_wrapper__7U_iU",stepList:"StepList_stepList__VPBPV",dot:"StepList_dot__0EXtG",dot_loading:"StepList_dot_loading__pxH_t",loader:"StepList_loader__rE9Rn",animloader:"StepList_animloader__zwf2j",loading:"StepList_loading__i9Qjw",shine2:"StepList_shine2__36dEd"}},19858:function(e){e.exports={webview:"WebView_webview__RKyVU",bordered:"WebView_bordered__3jy0n",mask:"WebView_mask__ekTl_",footer:"WebView_footer__LNG4I",button:"WebView_button__FL6YY"}}}]);
//# sourceMappingURL=2249-ef97805b7e0603fb.js.map