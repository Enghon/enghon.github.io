try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f46287fa-9c2a-4f0d-8073-a57eb53bc64c",e._sentryDebugIdIdentifier="sentry-dbid-f46287fa-9c2a-4f0d-8073-a57eb53bc64c")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4001],{13557:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n=a(50044),r=a(2265),i=a(86907),o=a(12023),s=a(12427),l=a(84526),c="AHOOKS_SYNC_STORAGE_EVENT_NAME",d=a(40151),u=function(e,t){void 0===t&&(t={});var a,u=t.listenStorageChange,_=void 0!==u&&u,h=t.onError,f=void 0===h?function(e){console.error(e)}:h;try{a=d.Z?localStorage:void 0}catch(e){f(e)}function p(){try{var n=null==a?void 0:a.getItem(e);if(n)return t.deserializer?t.deserializer(n):JSON.parse(n)}catch(e){f(e)}return(0,l.mf)(t.defaultValue)?t.defaultValue():t.defaultValue}var m=(0,n.CR)((0,r.useState)(p),2),b=m[0],w=m[1];(0,s.Z)(function(){w(p())},[e]);var v=function(t){t.key===e&&t.storageArea===a&&w(p())};return(0,i.Z)("storage",v,{enable:_}),(0,i.Z)(c,function(e){v(e.detail)},{enable:_}),[b,(0,o.Z)(function(n){var r=(0,l.mf)(n)?n(b):n;_||w(r);try{var i=void 0,o=null==a?void 0:a.getItem(e);(0,l.G7)(r)?(i=null,null==a||a.removeItem(e)):(i=t.serializer?t.serializer(r):JSON.stringify(r),null==a||a.setItem(e,i)),dispatchEvent(new CustomEvent(c,{detail:{key:e,newValue:i,oldValue:o,storageArea:a}}))}catch(e){f(e)}})]}},20279:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,a){return null!=e&&t.call(e,a)}},1181:function(e,t,a){var n=a(20279),r=a(35355);e.exports=function(e,t){return null!=e&&r(e,t,n)}},71881:function(e,t,a){var n=a(86714),r=a(12387);e.exports=function(e){return"number"==typeof e||r(e)&&"[object Number]"==n(e)}},44388:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},96591:function(e,t,a){"use strict";a.d(t,{Bs:function(){return i},YY:function(){return r}});let n=e=>{if(e.hostName)return e.hostName;try{let t=new URL(e.url);return t.hostname}catch(e){return"未知来源"}},r=e=>{let{type:t}=e;return"pdf"===t},i=e=>{let{hostLogo:t,hostName:a}=e;return{...e,hostLogo:t||"/chatContent/xiaobai-host-logo.png",hostName:a||n(e)}}},77238:function(e,t,a){"use strict";a.d(t,{EH:function(){return o},k3:function(){return s},mK:function(){return i},vq:function(){return r},yI:function(){return l}});var n=a(10242);let r={universal:{host:"apple-tech.wenxiaobai.com/app"},scheme:{protocol:"wxb",host:"app"},appstore:"https://apps.apple.com/cn/app/%E9%97%AE%E5%B0%8F%E7%99%BD/id6471236144",yingyongbao:"//sj.qq.com/appdetail/com.yuanshi.wenxiaobai?appName=wenxiaobai",fallback:"https://www.wenxiaobai.com/down"},i="test_wxb_key",o="test_wxb_value",s="https://wy-static.wenxiaobai.com",l={[n.m.DEEP_RESEARCH]:"/deep-research",[n.m.ANSWER_VISUALIZATION]:"/answer_html"}},42615:function(e,t,a){"use strict";a.d(t,{_6:function(){return l},qi:function(){return d},x3:function(){return h},_7:function(){return w},bK:function(){return v},ky:function(){return C}});var n,r,i=a(77238),o=a(2265);let s=null;function l(){(0,o.useEffect)(()=>{let e=async()=>{s||(s=(await a.e(9130).then(a.t.bind(a,79130,23))).default)};e()},[]);let e=(0,o.useCallback)(e=>{if(!s)return;let t=JSON.parse(JSON.stringify(i.vq));t.scheme.host=e||"app",t.universal.host="".concat(t.universal.host,"/").concat(e||"");let a=new s(t);a.open({path:""})},[]);return{openApp:e}}a(60767);var c=a(24033);function d(){let e=(0,c.useSearchParams)(),t=e.get("debug"),[a,n]=(0,o.useState)(()=>!1);return(0,o.useEffect)(()=>{n(!1)},[t]),{isDebug:a}}var u=a(73643),_=a(14586),h=()=>{let[e,t]=(0,o.useState)(""),a=(0,c.useRouter)(),{inMobile:n}=v(),{isDesktop:r,downloadUrl:i}=C(),s=u.H,l=(0,o.useCallback)(()=>{a.push("/chat/downloadPage")},[a]);(0,o.useEffect)(()=>{let e=window.navigator.userAgent,a=(0,_.fV)(e);t(a)},[]);let d=(0,o.useMemo)(()=>!r&&"Windows"===e,[r,e]),h=(0,o.useCallback)(()=>{if(r||n){l();return}switch(e){case"Android":case"iOS":l();break;case"macOS":i(s.macos_electron)}},[e,l,n,r,s.macos_electron,i]),f=(0,o.useCallback)(()=>{i(s.windows_electron_7)},[i,s.windows_electron_7]),p=(0,o.useCallback)(()=>{i(s.windows_electron_10_11)},[i,s.windows_electron_10_11]);return{handleCommonClick:h,isWindowsBrowserWeb:d,handleWin7Click:f,handleWin10_11Click:p}},f=a(97179),p=a(39177),m=a(36460),b=a(13743);function w(e){let{botInfo:t,info:a}=e,n=(0,c.useSearchParams)(),r=(0,c.useRouter)(),{auth:i,setAuth:s,userLoginModalShow:l,setUserLoginModalShow:d,needRealLogin:u}=(0,p.useGlobalExecuteState)()||{},[h,w]=(0,o.useState)(!1),v=(0,o.useRef)(i),S=(0,o.useRef)(l);(0,o.useEffect)(()=>{v.current=i,S.current=l},[i,l]),(0,o.useEffect)(()=>{let e=window.location.hostname,t="true"===n.get("forceLogin")||!!f.Fg[e];w(t)},[n]);let x=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=await (0,m.QJ)(),o=await (0,_.OP)();if(i.code!==f.n8.SUCCESS)return a(i.msg),Promise.resolve({});if((0,_.d8)("login",encodeURIComponent(JSON.stringify(i.data)),90),(0,_.d8)("visitorId",o,90),(0,_.d8)(f.eW.touristFst,Date.now(),90),e){let e="/chat/".concat(t.id,"?").concat(n);r.replace(e)}return b.Z.setAuth(i.data),null==s||s(i.data),Promise.resolve(i.data)},[r,s,n,t,a]),g=(0,o.useCallback)(()=>(null==d||d(!0),new Promise((e,t)=>{let a=setInterval(()=>{var t;(null===(t=v.current)||void 0===t?void 0:t.token)?(clearInterval(a),e(v.current)):S.current||(clearInterval(a),e({}))},100)})),[d]),E=(0,o.useCallback)(()=>(null==d||d(!0),new Promise((e,t)=>{let a=setInterval(()=>{var t,n;(null===(t=v.current)||void 0===t?void 0:t.user)&&!(null===(n=v.current.user)||void 0===n?void 0:n.isTourist)?(clearInterval(a),e(v.current)):S.current||(clearInterval(a),e({}))},100)})),[d]),y=(0,o.useMemo)(()=>h?g:x,[g,x,h]),C=(0,o.useCallback)(()=>!!u&&!!h&&(null==d||d(!0),!0),[u,h,d]);return{needForceLogin:h,waitForAuth:g,waitForTrueAuth:E,checkForceLogin:C,touristLoginAction:x,diffLoginAction:y}}function v(){let[e,t]=(0,o.useState)(!1),[a,n]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=()=>{t(window.matchMedia("(max-width: 879px)").matches),n(window.matchMedia("(max-width: 1400px)").matches)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{inMobile:e,in1400px:a}}(n=r||(r={})).WEB="web",n.TAURI="tauri",n.ELECTRON="electron";class S{constructor(e){this.platformType=e}}class x extends S{check(){return this.platformType===r.ELECTRON}ready(){return!!this.check()&&void 0!==window.electronAPI}openExternalUrl(e){this.ready()&&window.electronAPI.openExternalUrl(e)}canDownloadUrl(e){return!0}downloadUrl(e,t){this.canDownloadUrl(e)&&(0,_.wI)(e,t)}constructor(){super(r.ELECTRON)}}class g extends S{check(){return this.platformType===r.TAURI}ready(){return!!this.check()&&void 0!==window.__TAURI__}openExternalUrl(e){this.ready()&&window.__TAURI__.shell.open(e)}canDownloadUrl(e){return!(0,_.hU)(e)}downloadUrl(e,t){this.canDownloadUrl(e)&&this.openExternalUrl(e)}constructor(){super(r.TAURI)}}class E extends S{check(){return this.platformType===r.WEB}ready(){return!!this.check()}openExternalUrl(e){window.open(e,"_blank")}canDownloadUrl(e){return!0}downloadUrl(e,t){this.canDownloadUrl(e)&&(0,_.wI)(e,t)}constructor(){super(r.WEB)}}let y={[r.WEB]:E,[r.TAURI]:g,[r.ELECTRON]:x};function C(){let[e,t]=(0,o.useState)(!1),[a,n]=(0,o.useState)(!1),[i,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!1),[h,f]=(0,o.useState)(null),p=(0,o.useMemo)(()=>a?r.TAURI:i?r.ELECTRON:r.WEB,[a,i]);(0,o.useEffect)(()=>{let e=y[p];f(new e)},[p,f]),(0,o.useEffect)(()=>{let e=window.navigator.userAgent,{isDesktop:a,isTauriDesktop:r,isElectronDesktop:i,isWinDesktop:o,isMacDesktop:l}=(0,_.Si)(e);t(a),n(r),s(i),c(o),u(l)},[]);let m=(0,o.useCallback)(e=>(null==h?void 0:h.canDownloadUrl(e))||!1,[h]),b=(0,o.useCallback)((e,t)=>{null==h||h.downloadUrl(e,t)},[h]),w=(0,o.useCallback)(e=>{null==h||h.openExternalUrl(e)},[h]);return{isDesktop:e,isTauriDesktop:a,isElectronDesktop:i,isWinDesktop:l,isMacDesktop:d,openExternalUrl:w,canDownloadUrl:m,downloadUrl:b}}},73643:function(e,t,a){"use strict";a.d(t,{H:function(){return n}});let n={ios:"https://apps.apple.com/cn/app/%E9%97%AE%E5%B0%8F%E7%99%BD/id6471236144",kuaishou:"https://wy-andorid-dwn.wenxiaobai.com/wenxiaobai/release-3.8.5-7030805-202504292148/app-release-v3.8.5-7030805-kuaishou.apk",android:"https://wy-andorid-dwn.wenxiaobai.com/wenxiaobai/release-3.8.5-7030805-202504292148/app-release-v3.8.5-7030805-main.apk",baidu:"https://wy-andorid-dwn.wenxiaobai.com/wenxiaobai/release-3.8.5-7030805-202504292148/app-release-v3.8.5-7030805-baidu.apk",douyin:"https://wy-andorid-dwn.wenxiaobai.com/wenxiaobai/release-3.8.5-7030805-202504292148/app-release-v3.8.5-7030805-douyin.apk",wangyi:"https://wy-andorid-dwn.wenxiaobai.com/wenxiaobai/release-3.8.5-7030805-202504292148/app-release-v3.8.5-7030805-wangyi.apk",windows:"https://wy-static.wenxiaobai.com/wenxiaobai-web/desktop/windows/wenxiaobai_1733680859994_0.1.0_x64-setup.exe",macos:"https://wy-static.wenxiaobai.com/wenxiaobai-web/desktop/darwin/wenxiaobai_1733680898456_0.1.0_universal.dmg",windows_electron_7:"https://wy-static.wenxiaobai.com/wenxiaobai-web/desktop/releases/win7/%E9%97%AE%E5%B0%8F%E7%99%BD-win7-1.0.2.exe",windows_electron_10_11:"https://wy-static.wenxiaobai.com/wenxiaobai-web/desktop/releases/%E9%97%AE%E5%B0%8F%E7%99%BD-win10-1.0.2.exe",macos_electron:"https://wy-static.wenxiaobai.com/wenxiaobai-web/desktop/releases/%E9%97%AE%E5%B0%8F%E7%99%BD-1.0.2.dmg"}},91974:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});var n=a(25566);function r(e){let{src:t,width:a,quality:r}=e;return"true"===n.env.USE_LOCAL_ASSETS||t.startsWith("http")?t:"".concat("https://wy-static.wenxiaobai.com","/").concat("wenxiaobai-web","/").concat("production","/").concat("3.7.9").concat(t)}},48845:function(e,t,a){"use strict";a.d(t,{D:function(){return b},Z:function(){return w}});var n=a(57437),r=a(16063),i=a(42615),o=a(30467),s=a(42744),l=a.n(s),c=a(2265),d=a(96591),u=a(56239),_=a(69648),h=a.n(_),f=e=>{let{className:t="",detail:a}=e,r=(0,d.YY)(a),{id:i,pdfPublishYear:o,pdfCitedCount:s,pdfPublishInfo:u}=a,_=(0,c.useMemo)(()=>{let e=[];return o&&e.push(o),s&&e.push("被引用次数：".concat(s)),u&&e.push(u),e},[o,s,u]);return r&&0!==_.length?(0,n.jsx)("div",{className:l()(h().detail_items,t),"data-sentry-component":"PdfMoreDetail","data-sentry-source-file":"index.tsx",children:_.map((e,t)=>(0,n.jsx)("div",{className:h().detail_item,children:e},"".concat(i,"_").concat(t)))}):null},p=a(59585),m=a.n(p);let b=e=>{let t,{className:a="",detail:s,noHover:c=!1,pdfPlacement:_="bottom"}=e,{index:h,title:p,hostLogo:b,hostName:w,summary:v,cTime:S,pdfHtmlUrl:x}=(0,d.Bs)(s),{openExternalUrl:g}=(0,i.ky)();return(0,n.jsxs)("div",{className:l()(m().card,!c&&m().card_hover,a),"data-sentry-component":"SearchDetailCard","data-sentry-source-file":"SearchDetailCards.tsx",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:m().card_header,children:[(0,n.jsxs)("div",{className:m().left,children:[(0,n.jsx)(u.Z,{className:m().logo,hostLogo:b,hostName:w,width:16,height:16,"data-sentry-element":"HostLogo","data-sentry-source-file":"SearchDetailCards.tsx"}),w,(0,n.jsx)("span",{children:"\xb7"}),h]}),(t=null,x?t=(0,n.jsx)("div",{className:m().right,children:(0,n.jsxs)("div",{className:m().pdf,onClick:e=>{g(x),e.stopPropagation()},children:[(0,n.jsx)(r.Z,{className:m().pdf_icon,name:"paperclip"}),(0,n.jsx)("div",{className:m().pdf_text,children:"链接原文"})]})}):S&&(t=(0,n.jsx)("div",{className:m().right,children:S})),t)]}),(0,n.jsxs)("div",{className:m().card_title,children:[(0,d.YY)(s)&&(0,n.jsx)("div",{className:m().tag,children:"PDF"}),(0,n.jsx)("span",{className:m().text,children:p})]})]}),"middle"===_&&(0,n.jsx)(f,{className:m().middle_pdf_detail,detail:s}),(0,n.jsx)(o.Z.Paragraph,{ellipsis:{rows:2},className:m().card_content,"data-sentry-element":"Typography.Paragraph","data-sentry-source-file":"SearchDetailCards.tsx",children:v}),"bottom"===_&&(0,n.jsx)(f,{detail:s})]})};var w=e=>{let{className:t="",details:a}=e,{openExternalUrl:r}=(0,i.ky)(),o=e=>{e&&r(e)};return(0,n.jsx)("div",{className:l()(m().container,t),"data-sentry-component":"SearchDetailCards","data-sentry-source-file":"SearchDetailCards.tsx",children:a.map(e=>(0,n.jsx)("div",{onClick:()=>o(e.url),children:(0,n.jsx)(b,{className:m().detail_card,detail:e})},e.id))})}},56239:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var n=a(57437),r={src:"https://wy-static.wenxiaobai.com/wenxiaobai-web/production/3.7.9/_next/static/media/xiaobai-host-logo.d4925f18.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEXd3d3KysrX19fh4eFMaXHZ2dnU1NTc3NzExMTo6OhnaiSWAAAACHRSTlP2/i6vALQwsk0N0HYAAAAJcEhZcwAAITgAACE4AUWWMWAAAAAxSURBVHicRYtBCgAgDMMyt0n7/w/LBPEWQkKthl7FxmA2aUlyQkih4IIG0qOcP377ASXlAQjAc5wEAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},i=a(16691),o=a.n(i);a(2265);var s=a(52159),l=a.n(s),c=e=>{let{hostLogo:t,hostName:a,width:i=16,height:s=16,className:c}=e;return(0,n.jsx)(o(),{className:"".concat(l().radius," ").concat(c),src:t||r,alt:a||"website logo",width:i,height:s,"data-sentry-element":"Image","data-sentry-component":"HostLogo","data-sentry-source-file":"index.tsx"})}},74906:function(e,t,a){"use strict";a.r(t),a.d(t,{WebSearchSidebar:function(){return T},default:function(){return j}});var n=a(57437),r=a(16063),i=a(97179),o=a(1427),s=a(26230),l=a(2469),c=a(42615),d=a(66395),u=a(50044),_=a(2265),h=a(86907),f=a(12023),p=a(19404),m=a(12427),b=a(87558),w=function(e){return e.scrollHeight||Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)},v=function(e,t){void 0===t&&(t={});var a=t.target,n=t.isNoMore,r=t.threshold,i=void 0===r?100:r,o=t.direction,s=t.reloadDeps,l=t.manual,c=t.onBefore,d=t.onSuccess,v=t.onError,S=t.onFinally,x=(0,u.CR)((0,_.useState)(),2),g=x[0],E=x[1],y=(0,u.CR)((0,_.useState)(!1),2),C=y[0],A=y[1],k="top"===(void 0===o?"bottom":o),D=(0,_.useRef)(),N=(0,_.useRef)(0),I=(0,_.useMemo)(function(){return!!n&&n(g)},[g]),R=(0,p.Z)(function(t){return(0,u.mG)(void 0,void 0,void 0,function(){var a,n,r,i;return(0,u.Jh)(this,function(o){switch(o.label){case 0:return[4,e(t)];case 1:return a=o.sent(),t?E((0,u.pi)((0,u.pi)({},a),{list:k?(0,u.ev)((0,u.ev)([],(0,u.CR)(a.list),!1),(0,u.CR)(null!==(r=t.list)&&void 0!==r?r:[]),!1):(0,u.ev)((0,u.ev)([],(0,u.CR)(null!==(i=t.list)&&void 0!==i?i:[]),!1),(0,u.CR)(a.list),!1)})):E((0,u.pi)((0,u.pi)({},a),{list:(0,u.ev)([],(0,u.CR)(null!==(n=a.list)&&void 0!==n?n:[]),!1)})),[2,a]}})})},{manual:l,onFinally:function(e,t,a){A(!1),null==S||S(t,a)},onBefore:function(){return null==c?void 0:c()},onSuccess:function(e){setTimeout(function(){if(k){var e=(0,b.n)(a);if(e=e===document?document.documentElement:e){var t=w(e);e.scrollTo(0,t-N.current)}}else Z()}),null==d||d(e)},onError:function(e){return null==v?void 0:v(e)}}),T=R.loading,j=R.error,W=R.run,U=R.runAsync,P=R.cancel,H=(0,f.Z)(function(){I||(A(!0),W(g))}),O=(0,f.Z)(function(){return I?Promise.reject():(A(!0),U(g))}),Z=function(){var e=(0,b.n)(a);if(e){var t=e===document?document.documentElement:e,n=t===document||t===document.documentElement||t===document.body?Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop):t.scrollTop,r=w(t),o=t.clientHeight||Math.max(document.documentElement.clientHeight,document.body.clientHeight);k?(void 0!==D.current&&D.current>n&&n<=i&&H(),D.current=n,N.current=r-n):r-n<=o+i&&H()}};return(0,h.Z)("scroll",function(){T||C||Z()},{target:a}),(0,m.Z)(function(){W()},(0,u.ev)([],(0,u.CR)(void 0===s?[]:s),!1)),{data:g,loading:!C&&T,error:j,loadingMore:C,noMore:I,loadMore:H,loadMoreAsync:O,reload:(0,f.Z)(function(){return A(!1),W()}),reloadAsync:(0,f.Z)(function(){return A(!1),U()}),mutate:E,cancel:P}},S=a(42744),x=a.n(S),g=a(44388),E=a.n(g),y=a(16691),C=a.n(y),A=a(24033),k=a(88915),D=a.n(k),N=a(48845),I=a(45228),R=a.n(I);let T=()=>{let{sidebarOpen:e,changeSidebarOpen:t,sidebarInfo:a}=(0,l.useWebSearchSidebarState)(),{sideOpen:u}=(0,s.useViewConfigState)(),{currentConversationId:h=""}=(0,o.useConver)()||{},p=(0,_.useMemo)(()=>a.sentenceId,[a]),[m,b]=(0,_.useState)(!1),[w,S]=(0,_.useState)(!1),{inMobile:g,in1400px:y}=(0,c.bK)(),k=(0,A.usePathname)();(0,_.useEffect)(()=>{let e=/^\/chat\/\d+$/.test(k)||"/"===k,t=g||!e||!!(y&&u);b(t),S(t)},[k,g,u,y]);let I=(0,_.useRef)(null),[T,j,W]=D()(!0),U=(0,f.Z)(async e=>{let t=await (0,d.sE)({conversationId:a.conversationId,turnId:a.turnId,sentenceId:a.sentenceId,startIndex:e,endIndex:e+40-1}),{code:n,data:r,msg:o}=t,s=[];return n===i.n8.SUCCESS&&j((s=r.details||[]).length>=40),{list:s,total:a.total}}),{data:P}=v(e=>{var t;let n=Number((null===(t=E()((null==e?void 0:e.list)||[]))||void 0===t?void 0:t.index)||0)+1;return 1===n?Promise.resolve({list:a.details,total:a.total}):U(n)},{target:I,isNoMore:e=>{var t;return!(W.current&&(null===(t=(null==e?void 0:e.list)||[])||void 0===t?void 0:t.length)<=(null==e?void 0:e.total))},reloadDeps:[p],threshold:300});(0,_.useEffect)(()=>{if(p){var e;null==I||null===(e=I.current)||void 0===e||e.scrollTo({top:0,behavior:"instant"}),j(!0)}},[p,j]),(0,_.useEffect)(()=>{t(!1,{autoCache:!1})},[h,t]),(0,_.useEffect)(()=>{t(!1,{autoCache:!1})},[k,t]);let H=(0,_.useMemo)(()=>e,[e]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:x()([R().websearch_sidebar,m&&R().websearch_sidebar_fixed,H?R().open:R().ellipsis,"websearch_sidebar"]),children:(0,n.jsxs)("div",{className:R().content,children:[(0,n.jsxs)("div",{className:R().title_container,children:[(0,n.jsxs)("div",{className:R().left,children:[a.icon&&(0,n.jsx)(C(),{className:R().icon,src:a.icon,width:24,height:24,alt:""}),(0,n.jsx)("div",{className:R().title,children:"".concat(a.title,"（").concat(a.total,"）")})]}),(0,n.jsx)(r.Z,{className:R().close_icon,name:"close-bold",onClick:()=>t(!1),"data-sentry-element":"IconFont","data-sentry-source-file":"index.tsx"})]}),(0,n.jsx)("div",{className:R().content_container,ref:I,children:(0,n.jsx)(N.Z,{className:R().card_list,details:(null==P?void 0:P.list)||[],"data-sentry-element":"SearchDetailCards","data-sentry-source-file":"index.tsx"})})]})}),w&&(0,n.jsx)("div",{className:x()([R().mask,H&&R().open]),onClick:()=>t(!1)})]})};var j=T},16063:function(e,t,a){"use strict";var n=a(57437),r=a(42744),i=a.n(r);a(2265),t.Z=e=>(0,n.jsx)("svg",{"aria-hidden":"true",fontSize:e.size,color:e.color,fill:e.color,...e,className:i()("icon-font-svg",e.className),"data-sentry-element":"svg","data-sentry-component":"IconFont","data-sentry-source-file":"index.tsx",children:(0,n.jsx)("use",{href:"#"+e.name,"data-sentry-element":"use","data-sentry-source-file":"index.tsx"})})},61209:function(e,t,a){"use strict";a.r(t);var n=a(97179),r=a(69948),i=a(28493),o=a(23851),s=a(14586),l=a(24033),c=a(2265);let d=(e,t,a)=>{let[n,r]=(0,c.useState)(""),i=(0,l.usePathname)();(0,c.useEffect)(()=>{n!==i&&(e(n),t(i),r(i))},[i,n]),(0,c.useEffect)(()=>{function a(){"visible"===document.visibilityState?t&&t(i):e&&e(i)}return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a)}},[i]),(0,c.useEffect)(()=>{let e=e=>{a(i)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[])};t.default=e=>{let{appConfig:t}=e,{botGroup:a}=(0,r.useChat)()||{},[u,_]=(0,c.useState)(-1),h=(0,l.useSearchParams)(),f=h.get("inner_refer")||"history",p=(0,s.yP)(),{setCommonData:m,track:b,webExposureTrack:w}=(0,i.useTrack)()||{},v=(0,l.useRouter)();(0,c.useEffect)(()=>{o.FZ.interceptors.response.use(e=>{let{reportObj:t}=e||{};return t&&b&&b(t.event,t.attrs),e})},[b]);let S=(0,c.useCallback)(e=>{let t=(0,i.mapPathToPage)(e);switch(t){case n.fK.DISCOVERY.key:return null;case n.fK.SHARE_CHAT.key:return{page:n.fK.SHARE_CHAT.key};case n.fK.SHRE_CARD.key:return{page:n.fK.SHRE_CARD.key};case n.fK.CHAT.key:{let e=t.match(/\/(\w+)\/([A-Za-z0-9+/]+)/);if(e&&e.length>2){let t=e[2],r=a&&a[t]?a[t].name:"";return m({bot_id:t,bot_name:r}),{page:n.fK.CHAT.key}}}}},[m,a]);(0,c.useEffect)(()=>{m&&p&&p.user&&m({user_id:p.user.id+""})},[p,m]);let x=(0,c.useCallback)(e=>{(0,s.rQ)();let t=S(e);t&&b("page_exposure",{bhv_type:"exposure",...t,refer_page:f||n.fK.HISTORY.key}),w(),_(Date.now())},[b,f,S,w]),g=(0,c.useCallback)(()=>{let e=Date.now(),a=(0,s.ej)(n.eW.touristFst)||e;t&&(t.forceLoginEnabled<1||e>36e5*t.forceLoginEnabled+a)&&v.replace("/")},[t]),E=(0,c.useCallback)(e=>{x(e),g()},[x,g]),y=(0,c.useCallback)(e=>{let t=S(e);t&&b("page_exit",{bhv_type:"exit",...t,refer_page:f||n.fK.HISTORY.key,page_duration:Date.now()-u})},[b,f,u,S]),C=(0,c.useCallback)(e=>{let t=S(e);t&&b("page_exit",{bhv_type:"exit",...t,refer_page:f||n.fK.HISTORY.key,page_duration:Date.now()-u})},[u,S,f,b]);return d(y,E,C),null}},2469:function(e,t,a){"use strict";a.r(t),a.d(t,{WebSearchSidebarStateProvider:function(){return f},useWebSearchSidebarState:function(){return p}});var n=a(57437),r=a(79588),i=a(13557),o=a(10426),s=a(1181),l=a.n(s),c=a(71881),d=a.n(c),u=a(2265),_=a(1427);let h=(0,u.createContext)({sidebarOpen:!1,changeSidebarOpen:()=>{},getAutoOpenStatus:()=>!1,sidebarInfo:{conversationId:"",turnId:"",sentenceId:"",title:"",details:[],total:0},changeSidebarInfo:e=>{}});function f(e){let{children:t}=e,{curChatBotId:a=""}=(0,_.useConver)()||{},[s,c]=(0,u.useState)(!1),[f,p]=(0,i.Z)("websearch_sidebar_auto_open_map",{defaultValue:()=>({})}),m=(0,r.Z)(f),b=(0,u.useCallback)(()=>!!(a&&d()(Number(a)))&&0!==Number(a)&&(!l()(m.current,a)||!0===m.current[a]),[m,a]),[w,v]=(0,o.Z)({conversationId:"",turnId:"",sentenceId:"",title:"",icon:"",details:[],total:0}),S=(0,u.useCallback)((e,t)=>{let{autoCache:n=!0}=t||{};c(e),n&&d()(Number(a))&&0!==Number(a)&&p(t=>({...t,[a]:e}))},[a,c,p]),x=(0,u.useCallback)(e=>{v(e)},[v]);return(0,n.jsx)(h.Provider,{value:{sidebarOpen:s,changeSidebarOpen:S,getAutoOpenStatus:b,sidebarInfo:w,changeSidebarInfo:x},"data-sentry-element":"WebSearchSidebarState.Provider","data-sentry-component":"WebSearchSidebarStateProvider","data-sentry-source-file":"webSearchSidebar.tsx",children:t})}function p(){return(0,u.useContext)(h)}},10242:function(e,t,a){"use strict";var n,r;a.d(t,{m:function(){return n}}),(r=n||(n={})).DEEP_RESEARCH="deep_research",r.ANSWER_VISUALIZATION="answer_visualization",r.DEEP_RESEARCH_CHAT="deep_research_chat"},59585:function(e){e.exports={container:"SearchDetailCards_container__pJmRS",detail_card:"SearchDetailCards_detail_card__yeEO_",card:"SearchDetailCards_card__BIW_7",card_hover:"SearchDetailCards_card_hover__f1_i8",card_header:"SearchDetailCards_card_header__NeGLK",left:"SearchDetailCards_left__7tl_R",logo:"SearchDetailCards_logo__z1pA5",right:"SearchDetailCards_right__2ulHa",pdf:"SearchDetailCards_pdf__DpJg4",pdf_icon:"SearchDetailCards_pdf_icon__9D4L8",pdf_text:"SearchDetailCards_pdf_text___Uple",card_link:"SearchDetailCards_card_link__EmVPo",show_more:"SearchDetailCards_show_more__O_ZrC",card_title:"SearchDetailCards_card_title__dye7r",tag:"SearchDetailCards_tag__kDVwN",middle_pdf_detail:"SearchDetailCards_middle_pdf_detail__klwY5",card_content:"SearchDetailCards_card_content__eQdPm","loading-rotation":"SearchDetailCards_loading-rotation__v3INm"}},52159:function(e){e.exports={radius:"HostLogo_radius__ew_Tz"}},69648:function(e){e.exports={detail_items:"PdfMoreDetail_detail_items__Z4YYC",detail_item:"PdfMoreDetail_detail_item__Oan2u"}},45228:function(e){e.exports={websearch_sidebar:"WebSearchSidebar_websearch_sidebar__8u2cD",ellipsis:"WebSearchSidebar_ellipsis__WqRAL",content:"WebSearchSidebar_content___DTg9",open:"WebSearchSidebar_open__owHv0",websearch_sidebar_fixed:"WebSearchSidebar_websearch_sidebar_fixed__T45Eb",mask:"WebSearchSidebar_mask__o407I",close_icon:"WebSearchSidebar_close_icon__lDCmK",title_container:"WebSearchSidebar_title_container__05vo_",left:"WebSearchSidebar_left__EAEB2",title:"WebSearchSidebar_title__MIH0A",icon:"WebSearchSidebar_icon__eTrFj",sub_title_container:"WebSearchSidebar_sub_title_container__jlsOG",sub_title:"WebSearchSidebar_sub_title__UE8a_",content_container:"WebSearchSidebar_content_container__WNnFy",card_list:"WebSearchSidebar_card_list___geV7","loading-rotation":"WebSearchSidebar_loading-rotation__kdjfc"}}}]);
//# sourceMappingURL=4001-047fd637a8ec62fc.js.map